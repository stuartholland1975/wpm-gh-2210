(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{212:function(e,t,n){"use strict";t.a=n.p+"static/media/letter-m.9adce795.png"},213:function(e,t,n){"use strict";t.a=n.p+"static/media/letter-p.83f69969.png"},214:function(e,t,n){"use strict";t.a=n.p+"static/media/letter-w.15f2104c.png"},352:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(709),r=n(36),o=n(1),i=function(e){var t=e.path,n=Object(r.e)();return Object(o.jsx)(a.a,{sx:{borderRadius:0,border:0,m:0},color:"navigation",onClick:function(){n({pathname:t})},children:"details"})}},358:function(e,t,n){"use strict";var a=n(4),r=n(6),o=n(5),i=n(372),l=n.n(i),c=n(122),u=n.n(c),d=n(377),s=n.n(d),m=n(215),b=n.n(m),j=n(370),p=n.n(j),f=n(373),h=n.n(f),O=n(374),x=n.n(O),g=n(272),C=n.n(g),v=n(273),y=n.n(v),I=n(375),N=n.n(I),V=n(369),D=n.n(V),w=n(376),T=n.n(w),S=n(371),A=n.n(S),k=n(797),R=n(767),P=n(798),W=n(799),F=n(800),q=n(783),L=n(801),E=n(802),B=n(795),M=n(786),G=n(8),$=n(2),z=n.n($),H=n(36),Q=n(212),K=n(213),U=n(214),_=n(1),J=function(){var e,t=Object(H.d)();return e=t.pathname.startsWith("/projects/processing")?"PROJECT PROCESSING":"/projects/admin/locations"===t.pathname?"ORDER LOCATIONS LISTING":"/projects/admin/items"===t.pathname?"ORDER ITEMS LISTING":"/projects/admin/worksheets"===t.pathname?"ORDER WORKSHEETS LISTING":"/projects/admin/documents"===t.pathname?"ORDER DOCUMENTS LISTING":"/projects/admin/images"===t.pathname?"ORDER IMAGES LISTING":"/projects"===t.pathname?"PROJECT ORDER LISTING":"/applications"===t.pathname?"CONTRACT APPLICATIONS":"/dashboard"===t.pathname?"CONTRACT DASHBOARD":"/analysis"===t.pathname?"PERIOD ANALYSIS":"/enquiries"===t.pathname?"CONTRACT ENQUIRIES":"/admin/global/applications"===t.pathname?"CONTRACT APPLICATIONS ADMIN":"/admin/global/financials_archive"===t.pathname?"CONTRACT PERIODS ADMIN":"/admin/global/documents"===t.pathname?"CONTRACT DOCUMENTS ADMIN":"/enquiry/applications"===t.pathname?"CONTRACT APPLICATIONS ENQUIRY":"/enquiry/projects"===t.pathname?"CONTRACT ORDER ENQUIRY":"/enquiry/period-financials"===t.pathname?"PERIOD VALUE ENQUIRY":"/reports/applications"===t.pathname?"APPLICATION REPORTS":"/reports/financial"===t.pathname?"FINANCIAL REPORTS":"/reports/projects"===t.pathname?"PROJECT REPORTS":"/reports"===t.pathname?"REPORT SELECTIONS":"/admin/projects"===t.pathname?"PROJECT ADMINISTRATION":"/admin/documents"===t.pathname?"GLOBAL DOCUMENT ADMINISTRATION":"/admin/applications"===t.pathname?"CONTRACT APPLICATION ADMINISTRATION":"/admin/periods"===t.pathname?"PERIOD ADMINISTRATION":"WORK PACKAGE MANAGER",Object(_.jsx)(k.a,{component:"h2",sx:{position:"sticky",top:0,background:"#22415e",color:"white",mt:0,textAlign:"center",p:1},children:e})},Y=[{text:"HOME",icon:Object(_.jsx)(D.a,{color:"contrasting",fontSize:"large"}),path:"/"},{text:"PROJECTS",icon:Object(_.jsx)(b.a,{color:"contrasting",fontSize:"large"}),path:"/projects"},{text:"APPLICATIONS",icon:Object(_.jsx)(p.a,{color:"contrasting",fontSize:"large"}),path:"/applications"},{text:"TEST",icon:Object(_.jsx)(A.a,{color:"contrasting",fontSize:"large"}),path:"/testing"}],Z={text:"ADMIN",icon:Object(_.jsx)(l.a,{color:"contrasting",fontSize:"large"}),path:"/admin",subMenu:[{text:"PROJECTS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/admin/projects"},{text:"PERIODS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/admin/periods"},{text:"APPLICATIONS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"admin/applications"},{text:"DOCUMENTS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/admin/documents"}]},X=[{text:"DASHBOARD",icon:Object(_.jsx)(h.a,{color:"contrasting",fontSize:"large"}),path:"/dashboard"},{text:"REPORTS",icon:Object(_.jsx)(x.a,{color:"contrasting",fontSize:"large"}),path:"/"}],ee={text:"ENQUIRIES",icon:Object(_.jsx)(N.a,{color:"contrasting",fontSize:"large"}),path:"/",subMenu:[{text:"APPLICATIONS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/"},{text:"FINANCIAL",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/"},{text:"PROJECTS",icon:Object(_.jsx)(u.a,{color:"contrasting",fontSize:"medium"}),path:"/"}]},te=function(e){return{width:220,background:"#22415e",color:"white",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}},ne=function(e){return Object(o.a)({background:"#22415e",color:"white",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)")},e.breakpoints.up("sm"),{width:"calc(".concat(e.spacing(9)," + 1px)")})},ae=Object(G.a)("div",{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(r.a)({height:50,justifyContent:"space-evenly",display:"flex",alignItems:"center",padding:t.spacing(0,1)},n&&{justifyContent:"space-between",padding:t.spacing(0,2)})})),re=Object(G.a)(M.a,{shouldForwardProp:function(e){return"open"!==e}})((function(e){var t=e.theme,n=e.open;return Object(r.a)(Object(r.a)({width:220,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},n&&Object(r.a)(Object(r.a)({},te(t)),{},{"& .MuiDrawer-paper":te(t)})),!n&&Object(r.a)(Object(r.a)({},ne(t)),{},{"& .MuiDrawer-paper":ne(t)}))}));t.a=function(e){e.children;var t=Object(H.e)(),n=z.a.useState(!0),r=Object(a.a)(n,2),o=r[0],i=r[1],l=z.a.useState(!1),c=Object(a.a)(l,2),u=c[0],d=c[1],m=z.a.useState(!1),b=Object(a.a)(m,2),j=b[0],p=b[1];function f(){i(!0)}return Object(_.jsxs)(k.a,{sx:{display:"flex"},children:[Object(_.jsx)(R.a,{}),Object(_.jsxs)(re,{variant:"permanent",open:o,children:[Object(_.jsxs)(ae,{open:o,children:[o&&Object(_.jsxs)(P.a,{edge:"end",sx:{p:2},disableTouchRipple:!0,onClick:function(){return t("/")},children:[Object(_.jsx)("img",{src:U.a,height:40,alt:"W"}),Object(_.jsx)("img",{src:K.a,height:40,alt:"P"}),Object(_.jsx)("img",{src:Q.a,height:40,alt:"M"})]}),!o&&Object(_.jsx)(P.a,{color:"inherit","aria-label":"open drawer",onClick:f,edge:"start",children:Object(_.jsx)(T.a,{fontSize:"large"})}),o&&Object(_.jsx)(P.a,{onClick:function(){i(!1)},disableTouchRipple:!0,children:Object(_.jsx)(s.a,{color:"contrasting",fontSize:"large"})})]}),Object(_.jsx)(W.a,{color:"white"}),Object(_.jsxs)(F.a,{children:[Y.map((function(e){return Object(_.jsxs)(q.a,{divider:!0,button:!0,sx:{mt:1,mb:1},onClick:function(){return t(e.path)},children:[Object(_.jsx)(L.a,{children:e.icon}),Object(_.jsx)(E.a,{color:"white",primary:e.text})]},e.text)})),Object(_.jsx)(W.a,{color:"white"}),X.map((function(e){return Object(_.jsxs)(q.a,{button:!0,divider:!0,sx:{mt:1,mb:1},onClick:function(){return t(e.path)},children:[Object(_.jsx)(L.a,{children:e.icon}),Object(_.jsx)(E.a,{primary:e.text})]},e.text)})),Object(_.jsxs)(q.a,{button:!0,divider:!0,sx:{mt:1,mb:1},onClick:function(){p(!j),f()},children:[Object(_.jsx)(L.a,{children:ee.icon}),Object(_.jsx)(E.a,{primary:ee.text}),j?Object(_.jsx)(C.a,{}):Object(_.jsx)(y.a,{})]}),Object(_.jsx)(B.a,{in:j,timeout:"auto",unmountOnExit:!0,children:Object(_.jsx)(F.a,{component:"div",children:ee.subMenu.map((function(e){return Object(_.jsxs)(q.a,{dense:!0,divider:!0,button:!0,onClick:function(){return t(e.path)},children:[Object(_.jsx)(L.a,{children:e.icon}),Object(_.jsx)(E.a,{primary:e.text})]},e.text)}))})}),Object(_.jsx)(W.a,{color:"white"}),Object(_.jsxs)(q.a,{divider:!0,button:!0,sx:{mt:1,mb:1},onClick:function(){d(!u),f()},children:[Object(_.jsx)(L.a,{children:Z.icon}),Object(_.jsx)(E.a,{primary:Z.text}),u?Object(_.jsx)(C.a,{}):Object(_.jsx)(y.a,{})]}),Object(_.jsx)(B.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(_.jsx)(F.a,{component:"div",children:Z.subMenu.map((function(e){return Object(_.jsxs)(q.a,{disablePadding:!1,disableGutters:!1,dense:!0,divider:!0,button:!0,onClick:function(){return t(e.path)},children:[Object(_.jsx)(L.a,{children:e.icon}),Object(_.jsx)(E.a,{primary:e.text})]},e.text)}))})})]})]}),Object(_.jsxs)(k.a,{component:"main",width:"100%",children:[Object(_.jsx)(J,{}),Object(_.jsx)(k.a,{ml:2,mr:2,children:Object(_.jsx)(H.a,{})})]})]})}},452:function(e,t,n){},575:function(e,t){},577:function(e,t){},605:function(e,t){},606:function(e,t){},657:function(e,t){},686:function(e,t,n){},695:function(e,t,n){"use strict";n.r(t),n.d(t,"client",(function(){return Ko}));var a=n(6),r=n(357),o=n(80),i=n(775),l=n(400),c=n(774),u=n.n(c),d=n(787),s=n(283),m=(n(438),n(439),n(440),n(279)),b=n(52),j=n(2),p=n.n(j),f=n(131),h=n(365),O=(n(450),n(366)),x=n.n(O),g=(n(451),n(71)),C=n(41),v=n(36),y=(n(452),n(778)),I=n(134),N=new y.a({typePolicies:{Query:{fields:{gridSelections:{read:function(){return w()}},selectedWorksheets:{read:function(){return A()}},toggleComplete:{read:function(){return T()}},mutationApi:{read:function(){return S()}},toggleModal:{read:function(){return k()}},dashboardSelections:{read:function(){return D()}}}}}}),V={selectedOrder:!1,selectedLocation:!1,selectedItem:!1,selectedApplication:!1,selectedDocument:!1,selectedPeriod:!1,worksheetsValue:0},D=Object(I.c)({selectedArea:!1,selectedPeriod:!1}),w=Object(I.c)(V),T=Object(I.c)("all"),S=Object(I.c)({data:!1}),A=Object(I.c)(),k=Object(I.c)(!1),R=n(212),P=n(213),W=n(214),F=n(1);function q(){return Object(F.jsxs)("div",{style:{margin:"auto"},children:[Object(F.jsx)("img",{src:W.a,alt:"W",height:"400px"}),Object(F.jsx)("img",{src:P.a,alt:"P",height:"400px"}),Object(F.jsx)("img",{src:R.a,alt:"M",height:"400px"}),Object(F.jsx)("hr",{})]})}var L,E,B,M,G,$,z,H,Q,K,U,_,J,Y,Z,X,ee,te=function(){return p.a.useEffect((function(){N.gc(),w(V)}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{style:{textAlign:"center"},children:Object(F.jsx)(q,{})}),Object(F.jsx)("h1",{style:{textAlign:"center",fontWeight:"bolder"},children:"WORK PACKAGE MANAGER"}),Object(F.jsx)("hr",{}),Object(F.jsx)("br",{}),Object(F.jsx)("h1",{style:{textAlign:"center",fontWeight:"bolder"},children:"GENERIC CONTRACT EDITION"}),Object(F.jsx)("br",{}),Object(F.jsx)("hr",{})]})},ne=n(358),ae=n(401),re=n(378),oe=n.n(re),ie=n(21),le=n(140),ce=Object(le.d)(L||(L=Object(ie.a)(["\n\tquery getAreas {\n\t\tareas {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t}\n\t\t}\n\t}\n"]))),ue=Object(le.d)(E||(E=Object(ie.a)(["\n\tquery getWorktypes {\n\t\tworktypes {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t}\n\t\t}\n\t}\n"]))),de=Object(le.d)(B||(B=Object(ie.a)(["\n\tquery getOrderheaderStatus {\n\t\torderheaderStatuses {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tstatusDescription\n\t\t\t}\n\t\t}\n\t}\n"]))),se=Object(le.d)(M||(M=Object(ie.a)(["\n\tquery GetProjectWorksheets($id: Int!) {\n\t\tworksheetWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\tapplied\n\t\t\t\tdateComplete\n\t\t\t\tid\n\t\t\t\titemNumber\n\t\t\t\tlocationReference\n\t\t\t\tworksheetReference\n\t\t\t\tweek\n\t\t\t\tyear\n\t\t\t\tperiodNumber\n\t\t\t\tqtyComplete\n\t\t\t\tsupervisorName\n\t\t\t\tvalueComplete\n\t\t\t\tbatchId\n\t\t\t\tapplicationNumber\n\t\t\t}\n\t\t}\n\t}\n"]))),me=Object(le.d)(G||(G=Object(ie.a)(["\n\tquery GetAllSupervisors {\n\t\tsupervisors {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdisplayName\n\t\t\t\tfirstname\n\t\t\t\tfullName\n\t\t\t\tmiddlename\n\t\t\t\tsurname\n\t\t\t}\n\t\t}\n\t}\n"]))),be=Object(le.d)($||($=Object(ie.a)(["\n\tquery GetCurrentPeriod {\n\t\tperiods(condition: { current: true }) {\n\t\t\tnodes {\n\t\t\t\tcurrent\n\t\t\t\tid\n\t\t\t\tperiodNumber\n\t\t\t\tweek\n\t\t\t\tweekCommencingDate\n\t\t\t\tweekEndingDate\n\t\t\t\tyear\n\t\t\t}\n\t\t}\n\t}\n"]))),je=Object(le.d)(z||(z=Object(ie.a)(["\n\tquery GetOrderImages($id: Int!) {\n\t\timageDetails(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\ttotalCount\n\t\t\tnodes {\n\t\t\t\theaderImageFile\n\t\t\t\tid\n\t\t\t\tlongName\n\t\t\t\tshortName\n\t\t\t\treference\n\t\t\t\tworksheetReference\n\t\t\t\tdateTakenManual\n\t\t\t\texifDate\n\t\t\t}\n\t\t}\n\t}\n"]))),pe=Object(le.d)(H||(H=Object(ie.a)(["\n\tquery GetItemTypes {\n\t\titemTypes {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\ttypeShort\n\t\t\t}\n\t\t}\n\t}\n"]))),fe=Object(le.d)(Q||(Q=Object(ie.a)(["\n\tquery GetRatesetHeaders {\n\t\tratesetHeaders {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t}\n\t\t}\n\t}\n"]))),he=Object(le.d)(K||(K=Object(ie.a)(["\n\tquery GetRatesetPrices($id: Int) {\n\t\tratesetPrices(filter: { ratesetHeaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tactivitycode {\n\t\t\t\t\tactivityCode\n\t\t\t\t\tactivityDescription\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]))),Oe=Object(le.d)(U||(U=Object(ie.a)(["\n\tquery GetImageTypes {\n\t\timageTypes {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tlongName\n\t\t\t\tshortName\n\t\t\t}\n\t\t}\n\t}\n"]))),xe=Object(le.d)(_||(_=Object(ie.a)(["\n\tquery GetProjectDocuments($orderId: Int!) {\n\t\torderheaderDocuments(\n\t\t\tcondition: { orderheaderId: $orderId }\n\t\t\torderBy: DOCUMENT_BY_DOCUMENT_ID__GLOBAL_ASC\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tdocument {\n\t\t\t\t\tcreatedAt\n\t\t\t\t\tglobal\n\t\t\t\t\theaderDocumentFile\n\t\t\t\t\tid\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),ge=Object(le.d)(J||(J=Object(ie.a)(["\n\tquery GetProjectWorkbookDetails($orderId: Int!) {\n\t\torderheader(id: $orderId) {\n\t\t\torderheaderWithValueById {\n\t\t\t\tworktypeId\n\t\t\t\torderStatusId\n\t\t\t\tstatusDescription\n\t\t\t\taverageLocationValue\n\t\t\t\taverageItemValue\n\t\t\t\tnotes\n\t\t\t\tstartDate\n\t\t\t\tendDate\n\t\t\t\tissuedDate\n\t\t\t\tarea\n\t\t\t\tareaId\n\t\t\t\taverageItemValue\n\t\t\t\taverageLocationValue\n\t\t\t\tid\n\t\t\t\titemCount\n\t\t\t\titemCountBoq\n\t\t\t\titemCountVarn\n\t\t\t\titemsComplete\n\t\t\t\titemsCompleteBoq\n\t\t\t\titemsCompleteVarn\n\t\t\t\tlocationCount\n\t\t\t\tlocationsComplete\n\t\t\t\tstatusDescription\n\t\t\t\torderNumber\n\t\t\t\torderValueLabour\n\t\t\t\torderValueMaterials\n\t\t\t\torderValueOther\n\t\t\t\torderValueTotal\n\t\t\t\torderValueTotalApplied\n\t\t\t\torderValueTotalBoq\n\t\t\t\torderValueTotalComplete\n\t\t\t\torderValueTotalVarn\n\t\t\t\tprojectTitle\n\t\t\t\tworkType\n\t\t\t\tissuedDate\n\t\t\t\tdocumentCount\n\t\t\t\timageCount\n\t\t\t}\n\t\t\tsitelocationWithValues {\n\t\t\t\tnodes {\n\t\t\t\t\tcomplete\n\t\t\t\t\tid\n\t\t\t\t\titemCount\n\t\t\t\t\titemsComplete\n\t\t\t\t\torderValue\n\t\t\t\t\torderheaderId\n\t\t\t\t\treference\n\t\t\t\t\tvalueApplied\n\t\t\t\t\tvalueComplete\n\t\t\t\t\tworksheetReference\n\t\t\t\t\timageCount\n\t\t\t\t\tsitelocationById {\n\t\t\t\t\t\torderdetailWithValues {\n\t\t\t\t\t\t\tnodes {\n\t\t\t\t\t\t\t\tactivityCode\n\t\t\t\t\t\t\t\tactivityDescription\n\t\t\t\t\t\t\t\tcomplete\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\torderheaderId\n\t\t\t\t\t\t\t\tqtyApplied\n\t\t\t\t\t\t\t\tqtyComplete\n\t\t\t\t\t\t\t\tqtyOrdered\n\t\t\t\t\t\t\t\tqtyOs\n\t\t\t\t\t\t\t\ttypeShort\n\t\t\t\t\t\t\t\tunitPayableTotal\n\t\t\t\t\t\t\t\tvalueApplied\n\t\t\t\t\t\t\t\tvalueComplete\n\t\t\t\t\t\t\t\tvaluePayableTotal\n\t\t\t\t\t\t\t\tworksheetReference\n\t\t\t\t\t\t\t\titemNumber\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),Ce=Object(le.d)(Y||(Y=Object(ie.a)(["\n\tquery GetGlobalDocuments {\n\t\tdocuments(condition: { global: true }) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\ttitle\n\t\t\t\tcreatedAt\n\t\t\t\tglobal\n\t\t\t\theaderDocumentFile\n\t\t\t\torderheaderDocuments {\n\t\t\t\t\taggregates {\n\t\t\t\t\t\tdistinctCount {\n\t\t\t\t\t\t\torderheaderId\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnodes {\n\t\t\t\t\t\torderheader {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\torderNumber\n\t\t\t\t\t\t\tprojectTitle\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),ve=(Object(le.d)(Z||(Z=Object(ie.a)(["\n\tquery GetAllPeriod {\n\t\tperiods {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tweek\n\t\t\t\tweekCommencingDate\n\t\t\t\tweekEndingDate\n\t\t\t\tyear\n\t\t\t\tperiodNumber\n\t\t\t}\n\t\t}\n\t}\n"]))),Object(le.d)(X||(X=Object(ie.a)(["\n\tquery GetAreasWithValues {\n\t\tareaWithValues(orderBy: ID_ASC) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t\torderCount\n\t\t\t\torderValue\n\t\t\t\tvalueComplete\n\t\t\t}\n\t\t}\n\t}\n"]))),Object(le.d)(ee||(ee=Object(ie.a)(["\n\tquery GetPeriodsWithValues {\n\t\tperiodWithValues {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tperiodNumber\n\t\t\t\tworksValueClosed\n\t\t\t\tworksValueCurrent\n\t\t\t\tweekCommencingDate\n\t\t\t\tweekEndingDate\n\t\t\t\tweek\n\t\t\t\tyear\n\t\t\t\tcurrent\n\t\t\t\tclosed\n\t\t\t\torderCount\n\t\t\t\tareaCount\n\t\t\t\titemCount\n\t\t\t\tlocationCount\n\t\t\t}\n\t\t}\n\t}\n"])))),ye=n(178),Ie=n.n(ye),Ne=n(81),Ve=function(e){return Ie()(e.value).format("0,0")},De=function(e){return Ie()(e.value).format("0,0.00")},we=function(e){return Ie()(e).format("0,0")},Te=function(e){return Ie()(e).format("0,0.00")},Se=function(e){var t=Ne.DateTime.fromISO(e);if(Ne.DateTime.isDateTime(t))return t.setLocale("en-GB").toLocaleString(Ne.DateTime.DATE_SHORT)};var Ae,ke,Re,Pe,We,Fe,qe,Le,Ee,Be,Me,Ge,$e,ze,He,Qe,Ke,Ue,_e,Je,Ye,Ze,Xe,et,tt,nt,at,rt,ot,it,lt,ct=function(e){return e.replace(/^[a-z]|[A-Z]/g,(function(e,t){return(t?" ":"")+e.toUpperCase()}))},ut=function(){var e,t=Object(v.f)().id,n=Object(ae.b)(je,{variables:{id:Number(t)},fetchPolicy:"cache-and-network"}),a=n.data,r=n.loading,o=null===a||void 0===a||null===(e=a.imageDetails)||void 0===e?void 0:e.nodes.map((function(e){return{original:"".concat("http://192.168.0.23:9433","/images/resized/").concat(e.headerImageFile.id),thumbnail:"".concat("http://192.168.0.23:9433","/images/thumbnails/").concat(e.headerImageFile.id),originalHeight:800,description:Object(F.jsxs)("div",{style:{textAlign:"left"},children:[Object(F.jsxs)("p",{children:["WORKSHEET: ",e.worksheetReference]}),Object(F.jsx)("p",{children:e.longName}),Object(F.jsx)("p",{children:e.exifDate?Se(e.exifDate):Se(e.dateTakenManual)})]})}}));return r?null:Object(F.jsx)("div",{style:{marginTop:"50px"},children:(null===o||void 0===o?void 0:o.length)>0?Object(F.jsx)(oe.a,{items:o,thumbnailPosition:"bottom",onClick:function(e){return window.open(e.target.currentSrc.replace("resized","original"),"_blank")},lazyLoad:!0,showThumbnails:!0}):Object(F.jsx)("div",{className:"no-data-message",children:"NO IMAGES ARE AVAILABLE FOR THIS PROJECT"})})},dt=n(4),st=n(805),mt=n(38),bt=Object(le.d)(Ae||(Ae=Object(ie.a)(["\n\tquery GetProjectItems($id: Int!) {\n\t\torderdetailWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\tcomplete\n\t\t\t\tid\n\t\t\t\torderheaderId\n\t\t\t\tqtyApplied\n\t\t\t\tqtyComplete\n\t\t\t\tqtyOrdered\n\t\t\t\ttypeShort\n\t\t\t\tunitPayableTotal\n\t\t\t\tvalueApplied\n\t\t\t\tvalueComplete\n\t\t\t\tvaluePayableTotal\n\t\t\t\tworksheetReference\n\t\t\t\titemNumber\n\t\t\t}\n\t\t}\n\t}\n"]))),jt=(Object(le.d)(ke||(ke=Object(ie.a)(["\n\tquery GetProjectItems($orderheaderId: Int!, $id: Int!) {\n\t\torderdetailWithValues(\n\t\t\tfilter: {\n\t\t\t\torderheaderId: { equalTo: $orderheaderId }\n\t\t\t\tid: { greaterThan: $id }\n\t\t\t}\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\tcomplete\n\t\t\t\tid\n\t\t\t\torderheaderId\n\t\t\t\tqtyApplied\n\t\t\t\tqtyComplete\n\t\t\t\tqtyOrdered\n\t\t\t\ttypeShort\n\t\t\t\tunitPayableTotal\n\t\t\t\tvalueApplied\n\t\t\t\tvalueComplete\n\t\t\t\tvaluePayableTotal\n\t\t\t\tworksheetReference\n\t\t\t\titemNumber\n\t\t\t}\n\t\t\ttotalCount\n\t\t}\n\t}\n"]))),Object(le.d)(Re||(Re=Object(ie.a)(["\n\tquery GetProjectItemNumbers($id: Int!) {\n\t\torderdetails(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\titemNumber\n\t\t\t}\n\t\t}\n\t}\n"])))),pt=n(379),ft=n.n(pt),ht=n(380),Ot=n.n(ht),xt=n(109),gt=n.n(xt),Ct=n(791),vt=n(803),yt=n(804),It=function(e){var t=e.value,n=e.setValue;return Object(F.jsx)(Ct.a,{sx:{position:"absolute",bottom:0,left:0,right:0},elevation:3,children:Object(F.jsxs)(vt.a,{sx:{"& .MuiBottomNavigationAction-root":{color:"navy",fontWeight:"bold"},"& .Mui-selected ":{color:"red",fontWeight:"bolder","& .MuiBottomNavigationAction-label":{fontSize:14},"& .MuiBottomNavigationAction-icon":{color:"black"}},"& .MuiBottomNavigationAction-label":{fontSize:14},backgroundColor:"lightgray",borderTopStyle:"solid",borderWidth:2},value:t,onChange:function(e,t){n(t)},showLabels:!0,children:[Object(F.jsx)(yt.a,{label:"Show All",value:"All",icon:Object(F.jsx)(ft.a,{})}),Object(F.jsx)(yt.a,{label:"Complete Only",value:"Complete Only",icon:Object(F.jsx)(Ot.a,{})}),Object(F.jsx)(yt.a,{label:"Outstanding Only",value:"Outstanding Only",icon:Object(F.jsx)(gt.a,{})})]})})},Nt=function(){var e=Object(v.f)().id,t=p.a.useState("All"),n=Object(dt.a)(t,2),r=n[0],o=n[1],i=p.a.useRef(!1),l=p.a.useState(),c=Object(dt.a)(l,2),u=c[0],d=c[1],s=Object(ae.b)(bt,{variables:{id:Number(e)},fetchPolicy:"cache-and-network",onCompleted:function(e){return d(e.orderdetailWithValues.nodes)}}).loading,m=p.a.useMemo((function(){return[{headerName:"Item No",field:"itemNumber",sort:"desc",maxWidth:120,cellStyle:{textAlign:"left"}},{headerName:"Item Type",field:"typeShort",maxWidth:120,cellStyle:{textAlign:"left"}},{headerName:"Worksheet",field:"worksheetReference",cellStyle:{textAlign:"left"}},{headerName:"Activity Code",field:"activityCode",cellStyle:{textAlign:"left"}},{headerName:"Activity Description",field:"activityDescription",cellStyle:{textAlign:"left"},flex:2},{headerName:"Qty Ordered",field:"qtyOrdered",type:"numericColumn",valueFormatter:De},{headerName:"Unit Value",field:"unitPayableTotal",valueFormatter:De,type:"numericColumn"},{headerName:"Order Value",field:"valuePayableTotal",valueFormatter:De,type:"numericColumn"},{headerName:"Qty Done",field:"qtyComplete",type:"numericColumn",valueFormatter:De},{headerName:"Done Value",field:"valueComplete",valueFormatter:De,type:"numericColumn"},{headerName:"Qty Applied",field:"qtyApplied",type:"numericColumn",valueFormatter:De},{headerName:"Applied Value",field:"valueApplied",type:"rightAligned",valueFormatter:De},{headerName:"Complete",field:"complete",type:"rightAligned",valueFormatter:function(e){return e.value?"Yes":"No"}}]}),[]),b=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),j=p.a.useCallback((function(){var e=i.current.api.getSelectedRows();0===e.length?w(Object(a.a)(Object(a.a)({},w()),{},{selectedItem:!1})):w(Object(a.a)(Object(a.a)({},w()),{},{selectedItem:e}))}),[]);p.a.useEffect((function(){"undefined"!==typeof i.current&&i.current.api&&i.current.api.onFilterChanged()}),[r]);var f=p.a.useCallback((function(){return"All"!==r}),[r]),h=p.a.useCallback((function(e){switch(r){case"Complete Only":return!0===e.data.complete;case"Outstanding Only":return!1===e.data.complete;default:return""}}),[r]);return s?Object(F.jsx)(st.a,{}):Object(F.jsxs)("div",{style:{height:"75vh"},children:[Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:m,defaultColDef:b,rowData:u,rowSelection:"single",ref:i,enableCellChangeFlash:!0,pagination:!1,paginationPageSize:20,onSelectionChanged:j,isExternalFilterPresent:f,doesExternalFilterPass:h}),Object(F.jsx)(It,{value:r,setValue:o})]})},Vt=n(70),Dt=n.n(Vt),wt=n(116),Tt=n.n(wt),St=n(102),At=n.n(St),kt=n(147),Rt=n.n(kt),Pt=n(788),Wt=n(709),Ft=function(){return Object(F.jsxs)(Pt.a,{container:!0,columnSpacing:2,mb:2,mt:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{color:"create",startIcon:Object(F.jsx)(Dt.a,{}),children:"create item"})})," ",Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{startIcon:Object(F.jsx)(At.a,{}),color:"update",children:"edit item"})})," ",Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{startIcon:Object(F.jsx)(Tt.a,{}),color:"delete",children:"delete item"})})," ",Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{startIcon:Object(F.jsx)(Rt.a,{}),children:"item button"})})]})},qt=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(Ft,{}),Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"grid-title",children:"Project Items List"}),Object(F.jsx)(Nt,{})]})},Lt=Object(le.d)(Pe||(Pe=Object(ie.a)(["\n\tquery GetProjectLocations($id: Int!) {\n\t\tsitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\tcomplete\n\t\t\t\tid\n\t\t\t\titemCount\n\t\t\t\titemsComplete\n\t\t\t\torderValue\n\t\t\t\torderheaderId\n\t\t\t\treference\n\t\t\t\tvalueApplied\n\t\t\t\tvalueComplete\n\t\t\t\tworksheetReference\n\t\t\t\timageCount\n\t\t\t}\n\t\t}\n\t}\n"]))),Et=Object(le.d)(We||(We=Object(ie.a)(["\n\tquery GetIncompleteLocationItems($id: Int!) {\n\t\torderdetailWithValues(\n\t\t\tfilter: { complete: { equalTo: false }, sitelocationId: { equalTo: $id } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\titemNumber\n\t\t\t\ttypeShort\n\t\t\t\tvalueOs\n\t\t\t\tqtyOs\n\t\t\t\tqtyOrdered\n\t\t\t\tid\n\t\t\t\torderheaderId\n\t\t\t\tunitPayableTotal\n\t\t\t\tsitelocationId\n\t\t\t}\n\t\t}\n\t}\n"]))),Bt=(Object(le.d)(Fe||(Fe=Object(ie.a)(["\n\tquery GetLocationReferences($id: Int!) {\n\t\tsitelocationWithValues(filter: { orderheaderId: { equalTo: $id } }) {\n\t\t\tnodes {\n\t\t\t\treference\n\t\t\t\tid\n\t\t\t}\n\t\t}\n\t}\n"]))),Object(le.d)(qe||(qe=Object(ie.a)(["\n\tquery GetSingleLocation($id: Int!) {\n\t\tsitelocationWithValue(id: $id) {\n\t\t\tcomplete\n\t\t\tid\n\t\t\titemCount\n\t\t\titemsComplete\n\t\t\torderValue\n\t\t\torderheaderId\n\t\t\treference\n\t\t\tvalueApplied\n\t\t\tvalueComplete\n\t\t\tworksheetReference\n\t\t\timageCount\n\t\t}\n\t}\n"])))),Mt=(Object(le.d)(Le||(Le=Object(ie.a)(["\n\tquery GetUpdatedLocations($id: Int!, $orderheaderId: Int!) {\n\t\tsitelocationWithValues(\n\t\t\tfilter: {\n\t\t\t\tid: { greaterThan: $id }\n\t\t\t\torderheaderId: { equalTo: $orderheaderId }\n\t\t\t}\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tcomplete\n\t\t\t\tid\n\t\t\t\titemCount\n\t\t\t\titemsComplete\n\t\t\t\torderValue\n\t\t\t\torderheaderId\n\t\t\t\treference\n\t\t\t\tvalueApplied\n\t\t\t\tvalueComplete\n\t\t\t\tworksheetReference\n\t\t\t\timageCount\n\t\t\t}\n\t\t}\n\t\torderheaderWithValue(id: $orderheaderId) {\n\t\t\tworktypeId\n\t\t\torderStatusId\n\t\t\tstatusDescription\n\t\t\taverageLocationValue\n\t\t\taverageItemValue\n\t\t\tnotes\n\t\t\tstartDate\n\t\t\tendDate\n\t\t\tissuedDate\n\t\t\tarea\n\t\t\tareaId\n\t\t\taverageItemValue\n\t\t\taverageLocationValue\n\t\t\tid\n\t\t\titemCount\n\t\t\titemCountBoq\n\t\t\titemCountVarn\n\t\t\titemsComplete\n\t\t\titemsCompleteBoq\n\t\t\titemsCompleteVarn\n\t\t\tlocationCount\n\t\t\tlocationsComplete\n\t\t\tstatusDescription\n\t\t\torderNumber\n\t\t\torderValueLabour\n\t\t\torderValueMaterials\n\t\t\torderValueOther\n\t\t\torderValueTotal\n\t\t\torderValueTotalApplied\n\t\t\torderValueTotalBoq\n\t\t\torderValueTotalComplete\n\t\t\torderValueTotalVarn\n\t\t\tprojectTitle\n\t\t\tworkType\n\t\t\tissuedDate\n\t\t\tdocumentCount\n\t\t\timageCount\n\t\t}\n\t}\n"]))),function(){var e=Object(v.f)().id,t=p.a.useState("All"),n=Object(dt.a)(t,2),r=n[0],o=n[1],i=p.a.useRef(),l=p.a.useState(),c=Object(dt.a)(l,2),u=c[0],d=c[1],s=Object(ae.b)(Lt,{variables:{id:Number(e)},fetchPolicy:"cache-and-network",onCompleted:function(e){return d(e.sitelocationWithValues.nodes)}}).loading,m=p.a.useMemo((function(){return[{field:"id",hide:!0,sort:"asc"},{headerName:"Worksheet Ref",field:"worksheetReference",cellStyle:{textAlign:"left"},checkboxSelection:!0},{headerName:"Location",field:"reference",cellStyle:{textAlign:"left"},flex:2},{headerName:"Item Count",field:"itemCount",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Items Complete",field:"itemsComplete",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Items O/S",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return e.data.itemCount-e.data.itemsComplete}},{headerName:"Image Count",field:"imageCount",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Order Value",field:"orderValue",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return Number(e.data.orderValue)},valueFormatter:De},{headerName:"Done Value",field:"valueComplete",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return Number(e.data.valueComplete)},valueFormatter:De},{headerName:"To Do Value",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return e.data.orderValue-e.data.valueComplete},valueFormatter:De},{headerName:"Applied Value",field:"valueApplied",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return Number(e.data.valueApplied)},valueFormatter:De},{headerName:"To Apply Value",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return e.data.valueComplete-e.data.valueApplied},valueFormatter:De},{headerName:"Ave Item Value",type:"numericColumn",filter:"agNumberColumnFilter",valueGetter:function(e){return e.data.orderValue/e.data.itemCount},valueFormatter:De},{headerName:"Complete",field:"complete",type:"rightAligned",valueFormatter:function(e){return e.value?"Yes":"No"}}]}),[]),b=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),j=p.a.useCallback((function(){var e=i.current.api.getSelectedRows();0===e.length?w(Object(a.a)(Object(a.a)({},w()),{},{selectedLocation:!1})):w(Object(a.a)(Object(a.a)({},w()),{},{selectedLocation:e}))}),[]);p.a.useEffect((function(){"undefined"!==typeof i.current&&i.current.api&&i.current.api.onFilterChanged()}),[r]);var f=p.a.useCallback((function(){return"All"!==r}),[r]),h=p.a.useCallback((function(e){switch(r){case"Complete Only":return!0===e.data.complete;case"Outstanding Only":return!1===e.data.complete;default:return"All"}}),[r]);return s?Object(F.jsx)(st.a,{}):Object(F.jsxs)("div",{style:{height:"75vh"},children:[Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:m,defaultColDef:b,rowData:u,rowSelection:"multiple",ref:i,enableCellChangeFlash:!0,pagination:!1,paginationPageSize:30,onSelectionChanged:j,suppressCellFocus:!0,isExternalFilterPresent:f,doesExternalFilterPass:h,suppressRowClickSelection:!0}),Object(F.jsx)(It,{value:r,setValue:o})]})}),Gt=n(769),$t=n(215),zt=n.n($t),Ht=n(79),Qt=n.n(Ht),Kt=n(790),Ut=n(764),_t=n(797),Jt=n(798),Yt=n(14),Zt=n(146),Xt=n(768),en=n(792),tn=n(777),nn=n(799),an=n(793),rn=n(46),on=Object(le.d)(Ee||(Ee=Object(ie.a)(["\n  mutation CreateProjectHeader($input: OrderheaderInput!) {\n    createOrderheader(input: { orderheader: $input }) {\n      clientMutationId\n    }\n  }\n"]))),ln=Object(le.d)(Be||(Be=Object(ie.a)(["\n  mutation EditProjectHeader($id: Int!, $patch: OrderheaderPatch!) {\n    updateOrderheader(input: { patch: $patch, id: $id }) {\n      clientMutationId\n    }\n  }\n"]))),cn=Object(le.d)(Me||(Me=Object(ie.a)(["\n  mutation DeleteProjectHeader($id: Int!) {\n    deleteOrderheader(input: { id: $id }) {\n      deletedOrderheaderNodeId\n      clientMutationId\n    }\n  }\n"]))),un=Object(le.d)(Ge||(Ge=Object(ie.a)(["\n  mutation CreateBulkWorksheets(\n    $input: WorksheetCreateBulkWorksheetsInput!\n    $orderId: Int!\n    $locationId: Int!\n  ) {\n    worksheetCreateBulkWorksheets(input: $input) {\n      query {\n        orderheaderWithValue(id: $orderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n        sitelocationWithValueById(id: $locationId) {\n          complete\n          id\n          itemCount\n          itemsComplete\n          orderValue\n          orderheaderId\n          reference\n          valueApplied\n          valueComplete\n          worksheetReference\n          imageCount\n        }\n      }\n    }\n  }\n"]))),dn=(Object(le.d)($e||($e=Object(ie.a)(["\n  mutation CreateProjectLocation($projectId: Int!, $reference: String!) {\n    createSitelocation(\n      input: {\n        sitelocation: { reference: $reference, orderheaderId: $projectId }\n      }\n    ) {\n      nodes {\n        complete\n        id\n        itemCount\n        itemsComplete\n        orderValue\n        orderheaderId\n        reference\n        valueApplied\n        valueComplete\n        worksheetReference\n        imageCount\n      }\n    }\n  }\n"]))),Object(le.d)(ze||(ze=Object(ie.a)(["\n  mutation CreateManyLocations($input: [SitelocationInput!]) {\n    mnCreateSitelocation(input: { mnSitelocation: $input }) {\n      clientMutationId\n    }\n  }\n"]))),Object(le.d)(He||(He=Object(ie.a)(["\n  mutation CreateBulkLocations(\n    $input: [SitelocationInput!]\n    $orderheaderId: Int!\n  ) {\n    sitelocationCreateBulkLocations(input: { locations: $input }) {\n      sitelocations {\n        sitelocationWithValueById {\n          complete\n          id\n          imageCount\n          itemCount\n          itemsComplete\n          orderValue\n          orderheaderId\n          reference\n          valueApplied\n          valueComplete\n          worksheetReference\n        }\n      }\n      query {\n        orderheaderWithValue(id: $orderheaderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"])))),sn=Object(le.d)(Qe||(Qe=Object(ie.a)(["\n  mutation DeleteManyLocations($input: [SitelocationPatch!]) {\n    mnDeleteSitelocation(input: { mnPatch: $input }) {\n      orderheader {\n        orderheaderWithValueById {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),mn=Object(le.d)(Ke||(Ke=Object(ie.a)(["\n  mutation AddBulkItemsToLocation(\n    $input: [OrderdetailInput!]\n    $locationId: Int!\n    $orderheaderId: Int!\n  ) {\n    mnCreateOrderdetail(input: { mnOrderdetail: $input }) {\n      clientMutationId\n      query {\n        sitelocationWithValueById(id: $locationId) {\n          complete\n          id\n          itemCount\n          itemsComplete\n          orderValue\n          orderheaderId\n          reference\n          valueApplied\n          valueComplete\n          worksheetReference\n          imageCount\n        }\n        orderheaderWithValue(id: $orderheaderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),bn=(Object(le.d)(Ue||(Ue=Object(ie.a)(["\n  mutation CreateManyItems($input: [OrderdetailInput!], $orderheaderId: Int!) {\n    orderdetailCreateBulkItems(input: { orderdetails: $input }) {\n      orderdetails {\n        orderdetailWithValueById {\n          activityCode\n          activityDescription\n          complete\n          id\n          orderheaderId\n          qtyApplied\n          qtyComplete\n          qtyOrdered\n          typeShort\n          unitPayableTotal\n          valueApplied\n          valueComplete\n          valuePayableTotal\n          worksheetReference\n          itemNumber\n        }\n      }\n      query {\n        orderheaderWithValue(id: $orderheaderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),Object(le.d)(_e||(_e=Object(ie.a)(["\n  mutation CalculateItemValue(\n    $priceId: Int!\n    $qtyOrdered: BigFloat!\n    $materialsValue: BigFloat!\n  ) {\n    calculateItemValue(\n      input: {\n        priceId: $priceId\n        qtyOrdered: $qtyOrdered\n        materialsValue: $materialsValue\n      }\n    ) {\n      bigFloat\n    }\n  }\n"])))),jn=(Object(le.d)(Je||(Je=Object(ie.a)(["\n  mutation AddImageToLocation($input: ImageInput!, $orderheaderId: Int!) {\n    createImage(input: { image: $input }) {\n      sitelocation {\n        sitelocationWithValueById {\n          complete\n          id\n          imageCount\n          itemCount\n          itemsComplete\n          orderValue\n          orderheaderId\n          reference\n          valueApplied\n          valueComplete\n          worksheetReference\n        }\n      }\n      query {\n        orderheaderWithValue(id: $orderheaderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),Object(le.d)(Ye||(Ye=Object(ie.a)(["\n  mutation AddBulkImagesToLocation($input: [ImageInput!]) {\n    mnCreateImage(input: { mnImage: $input }) {\n      sitelocation {\n        sitelocationWithValueById {\n          complete\n          id\n          imageCount\n          itemCount\n          itemsComplete\n          orderValue\n          orderheaderId\n          reference\n          valueApplied\n          valueComplete\n          worksheetReference\n          orderheader {\n            orderheaderWithValueById {\n              worktypeId\n              orderStatusId\n              statusDescription\n              averageLocationValue\n              averageItemValue\n              notes\n              startDate\n              endDate\n              issuedDate\n              area\n              areaId\n              averageItemValue\n              averageLocationValue\n              id\n              itemCount\n              itemCountBoq\n              itemCountVarn\n              itemsComplete\n              itemsCompleteBoq\n              itemsCompleteVarn\n              locationCount\n              locationsComplete\n              statusDescription\n              orderNumber\n              orderValueLabour\n              orderValueMaterials\n              orderValueOther\n              orderValueTotal\n              orderValueTotalApplied\n              orderValueTotalBoq\n              orderValueTotalComplete\n              orderValueTotalVarn\n              projectTitle\n              workType\n              issuedDate\n              documentCount\n              imageCount\n            }\n          }\n        }\n      }\n    }\n  }\n"])))),pn=Object(le.d)(Ze||(Ze=Object(ie.a)(["\n  mutation UploadDocuments($input: [DocumentInput!]) {\n    mnCreateDocument(input: { mnDocument: $input }) {\n      clientMutationId\n    }\n  }\n"]))),fn=Object(le.d)(Xe||(Xe=Object(ie.a)(["\n  mutation DeleteGlobalDocuments($input: [DocumentPatch!]) {\n    mnDeleteDocument(input: { mnPatch: $input }) {\n      document {\n        id\n      }\n    }\n  }\n"]))),hn=Object(le.d)(et||(et=Object(ie.a)(["\n  mutation UpdateProjectGlobalDocuments(\n    $additions: [OrderheaderDocumentInput!]\n    $deletions: [OrderheaderDocumentPatch!]\n  ) {\n    mnDeleteOrderheaderDocument(input: { mnPatch: $deletions }) {\n      orderheader {\n        orderheaderWithValueById {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n    mnCreateOrderheaderDocument(input: { mnOrderheaderDocument: $additions }) {\n      orderheader {\n        orderheaderWithValueById {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),On=Object(le.d)(tt||(tt=Object(ie.a)(["\n  mutation AddItemsToApplication($input: [Int!], $orderId: Int!) {\n    addWorksheetsToApplication(input: { worksheetId: $input }) {\n      query {\n        orderheaderWithValueById(id: $orderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),xn=Object(le.d)(nt||(nt=Object(ie.a)(["\n  mutation ImportOrderDetails(\n    $importData: [OrderImportInput!]\n    $orderId:Int!\n  ) {\n    wpmGraphqlImportOrderData(\n      input: {\n        orderItem: $importData\n      }\n    ) {\n      orderdetails {\n        orderdetailWithValuesById {\n          nodes {\n            activityCode\n            activityDescription\n            area\n            areaId\n            complete\n            id\n            itemNumber\n            locationReference\n            orderNumber\n            orderheaderId\n            projectTitle\n            qtyApplied\n            qtyComplete\n            qtyOrdered\n            qtyOs\n            typeShort\n            unitPayableTotal\n            valueApplied\n            valueComplete\n            valueOs\n            valuePayableTotal\n            worksheetReference\n            worktype\n          }\n        }\n      }\n      query {\n        orderheaderWithValueById(id: $orderId) {\n          worktypeId\n          orderStatusId\n          statusDescription\n          averageLocationValue\n          averageItemValue\n          notes\n          startDate\n          endDate\n          issuedDate\n          area\n          areaId\n          averageItemValue\n          averageLocationValue\n          id\n          itemCount\n          itemCountBoq\n          itemCountVarn\n          itemsComplete\n          itemsCompleteBoq\n          itemsCompleteVarn\n          locationCount\n          locationsComplete\n          statusDescription\n          orderNumber\n          orderValueLabour\n          orderValueMaterials\n          orderValueOther\n          orderValueTotal\n          orderValueTotalApplied\n          orderValueTotalBoq\n          orderValueTotalComplete\n          orderValueTotalVarn\n          projectTitle\n          workType\n          issuedDate\n          documentCount\n          imageCount\n        }\n      }\n    }\n  }\n"]))),gn=n(43),Cn=n(11),vn=n(5),yn=n(23),In=function(e){return p.a.useCallback(function(){var t=Object(yn.a)(Object(Cn.a)().mark((function t(n){var r;return Object(Cn.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(n,{abortEarly:!1});case 3:return r=t.sent,t.abrupt("return",{values:r,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){var n;return Object(a.a)(Object(a.a)({},e),{},Object(vn.a)({},t.path,{type:null!==(n=t.type)&&void 0!==n?n:"validation",message:t.message}))}),{})});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e])},Nn=Object(le.d)(at||(at=Object(ie.a)(["\n  query GetAllProjectSummaries {\n    orderheaderWithValues {\n      nodes {\n        worktypeId\n        orderStatusId\n        statusDescription\n        averageLocationValue\n        averageItemValue\n        notes\n        startDate\n        endDate\n        issuedDate\n        area\n        areaId\n        averageItemValue\n        averageLocationValue\n        id\n        itemCount\n        itemCountBoq\n        itemCountVarn\n        itemsComplete\n        itemsCompleteBoq\n        itemsCompleteVarn\n        locationCount\n        locationsComplete\n        statusDescription\n        orderNumber\n        orderValueLabour\n        orderValueMaterials\n        orderValueOther\n        orderValueTotal\n        orderValueTotalApplied\n        orderValueTotalBoq\n        orderValueTotalComplete\n        orderValueTotalVarn\n        projectTitle\n        workType\n        issuedDate\n        documentCount\n        imageCount\n      }\n    }\n  }\n"]))),Vn=Object(le.d)(rt||(rt=Object(ie.a)(["\n  query GetAllProjectNumbers {\n    orderheaderWithValues {\n      nodes {\n        orderNumber\n      }\n    }\n  }\n"]))),Dn=Object(le.d)(ot||(ot=Object(ie.a)(["\n  query GetSingleProjectHeader($id: Int!) {\n    orderheaderWithValue(id: $id) {\n      worktypeId\n      orderStatusId\n      statusDescription\n      averageLocationValue\n      averageItemValue\n      notes\n      startDate\n      endDate\n      issuedDate\n      area\n      areaId\n      averageItemValue\n      averageLocationValue\n      id\n      itemCount\n      itemCountBoq\n      itemCountVarn\n      itemsComplete\n      itemsCompleteBoq\n      itemsCompleteVarn\n      locationCount\n      locationsComplete\n      statusDescription\n      orderNumber\n      orderValueLabour\n      orderValueMaterials\n      orderValueOther\n      orderValueTotal\n      orderValueTotalApplied\n      orderValueTotalBoq\n      orderValueTotalComplete\n      orderValueTotalVarn\n      projectTitle\n      workType\n      issuedDate\n      documentCount\n      imageCount\n    }\n  }\n"]))),wn=(Object(le.d)(it||(it=Object(ie.a)(["\n  fragment ProjectHeader on OrderheaderWithValue {\n    worktypeId\n    orderStatusId\n    statusDescription\n    averageLocationValue\n    averageItemValue\n    notes\n    startDate\n    endDate\n    issuedDate\n    area\n    areaId\n    averageItemValue\n    averageLocationValue\n    id\n    itemCount\n    itemCountBoq\n    itemCountVarn\n    itemsComplete\n    itemsCompleteBoq\n    itemsCompleteVarn\n    locationCount\n    locationsComplete\n    statusDescription\n    orderNumber\n    orderValueLabour\n    orderValueMaterials\n    orderValueOther\n    orderValueTotal\n    orderValueTotalApplied\n    orderValueTotalBoq\n    orderValueTotalComplete\n    orderValueTotalVarn\n    projectTitle\n    workType\n    issuedDate\n    documentCount\n    imageCount\n  }\n"]))),Object(le.d)(lt||(lt=Object(ie.a)(["\n  query ValidateProjectImportData(\n    $importData: ProjectImportValidationDatumInput!\n    $orderId: Int!\n  ){\n    validateProjectImportData(importData: $importData, orderId: $orderId) {\n\n      isDataValid\n      validationChecks {\n        itemsValid\n        activitiesValid\n        activitiesMissing\n        activitiesSubmitted\n        activitiesExisting\n        locationsValid\n        locationsSubmitted\n        locationsExisting\n        itemsSubmitted\n        itemsExisting\n      }\n    }\n  }\n"])))),Tn=function(e){var t=e.hideModal,n=e.id,r=(Object(Zt.a)(),p.a.useRef()),o=w().selectedOrder;console.log(n);var i=Object(rn.c)({defaultValues:{location:[{reference:""}]},mode:"onTouched"}),l=i.watch,c=i.register,u=i.handleSubmit,d=i.reset,s=i.control,m=i.setFocus,b=i.formState.errors,j=Object(rn.b)({control:s,name:"location"}),f=j.fields,h=j.append,O=j.remove,x=l(),g=Object(Xt.a)(dn,{update:function(e,t){var n=e.readQuery({query:Lt,variables:{id:o.id}}),a=t.data.sitelocationCreateBulkLocations.sitelocations.map((function(e){return e.sitelocationWithValueById})),r=t.data.sitelocationCreateBulkLocations.query;e.writeQuery({query:Lt,variables:{id:o.id},data:{sitelocationWithValues:{nodes:[].concat(Object(Yt.a)(n.sitelocationWithValues.nodes),Object(Yt.a)(a))}}}),e.writeQuery({query:Dn,variables:{id:o.id},data:r})},onCompleted:function(){t()}}),C=Object(dt.a)(g,1)[0],v=function(e){var t=e.location.map((function(e){return{reference:e.reference,orderheaderId:o.id}}));C({variables:{input:t,orderheaderId:o.id}})};return p.a.useEffect((function(){return m("location[0].reference")}),[m]),Object(F.jsxs)(_t.a,{children:[Object(F.jsx)(en.a,{children:Object(F.jsx)("form",{onSubmit:u(v),children:Object(F.jsx)(Pt.a,{container:!0,spacing:2,children:f.map((function(e,t){return Object(F.jsxs)(p.a.Fragment,{children:[Object(F.jsx)(Pt.a,{item:!0,xs:9,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},c("location.".concat(t,".reference"))),{},{label:"Location Reference",variant:"filled",fullWidth:!0,onBlur:function(){return r.current.focus()}}))}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Wt.a,{sx:{height:"100%",borderRadius:0,border:0},color:"delete",fullWidth:!0,onClick:function(){return O(t)},children:"delete"})}),Object(F.jsx)(Pt.a,{item:!0,xs:12,children:b["location[".concat(t,"].reference")]&&Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:b["location[".concat(t,"].reference")].message})})]},e.id)}))})})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(an.a,{children:Object(F.jsxs)(Pt.a,{container:!0,p:2,spacing:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:t,color:"secondary",sx:{borderRadius:0,border:1,height:"100%"},children:"close"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"cancel",onClick:function(){return d()},sx:{borderRadius:0,border:1,height:"100%"},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{disabled:""===x.location[x.location.length-1].reference,ref:r,sx:{height:"100%",borderRadius:0,border:1},color:"create",fullWidth:!0,startIcon:Object(F.jsx)(Dt.a,{}),onClick:function(){return h({reference:""})},children:"add another"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"submit",onClick:u(v),sx:{borderRadius:0,border:1,height:"100%"},children:"submit"})})]})})]})},Sn=function(e){var t=e.id,n=Object(Gt.a)(w).selectedLocation,a=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:i,maxWidth:"xl",fullWidth:!0,open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(_t.a,{flexGrow:1,children:"CREATE PROJECT LOCATION"}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:i,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(Tn,{hideModal:i,id:t})]})})),r=Object(dt.a)(a,2),o=r[0],i=r[1];return Object(F.jsx)(Wt.a,{color:"create",onClick:o,disabled:!1!==n,startIcon:Object(F.jsx)(Dt.a,{}),children:"create project location"})},An=function(){var e=Object(Gt.a)(w).selectedLocation,t=Object(Gt.a)(w).selectedOrder,n=Object(v.f)().id,r=Object(b.b)(),o=Object(v.e)(),i=Object(Xt.a)(sn,{refetchQueries:[{query:Lt,variables:{id:Number(n)}}],awaitRefetchQueries:!0,onCompleted:function(){return o("/projects/processing/".concat(n,"/locations"))}}),l=Object(dt.a)(i,1)[0];return Object(F.jsx)(Wt.a,{disabled:!1===e||e.map((function(e){return Number(e.valueComplete)})).reduce((function(e,t){return e+t}))>0,onClick:function(){var n=e.map((function(e){return{id:e.id}}));r({title:"Confirm Delete Location",titleProps:{color:"red",fontWeight:"bold"},description:"This Will Permanently Delete The ".concat(e.length," Locations(s) Selected and ").concat(e.map((function(e){return Number(e.itemCount)})).reduce((function(e,t){return e+t}))," Associated Item(s)"),confirmationText:"Delete",cancellationButtonProps:{color:"secondary"},confirmationButtonProps:{autoFocus:!0,color:"delete"},allowClose:!1}).then((function(){return l({variables:{input:n,id:t.id}}).then((function(){return w(Object(a.a)(Object(a.a)({},w()),{},{selectedLocation:!1}))}))})).catch((function(){return console.log("submission cancelled")}))},startIcon:Object(F.jsx)(Tt.a,{}),color:"delete",children:"delete location"})},kn=n(770),Rn=n(56),Pn=n(776),Wn=["ref","onChange"],Fn=function(e){var t=e.control,n=e.index,r=p.a.useState(!1),o=Object(dt.a)(r,2),i=o[0],l=o[1],c=p.a.useState(),u=Object(dt.a)(c,2),d=u[0],s=u[1],m=Object(ae.b)(pe,{onCompleted:function(e){return s(e.itemTypes.nodes)}}).loading;return Object(F.jsx)(rn.a,{control:t,name:"item.".concat(n,".itemTypeId"),render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,Wn);return Object(F.jsx)(Pn.a,{openOnFocus:!0,autoSelect:!0,autoHighlight:!0,size:"small",options:d,loading:m,disableClearable:!0,fullWidth:!0,getOptionLabel:function(e){return e.typeShort},onChange:function(e,t){return n(t.id)},open:i,onOpen:function(){l(!0)},onClose:function(){l(!1)},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Item Type"}))}})}})},qn=["ref","onChange"],Ln=function(e){var t=e.control,n=e.index,r=e.getActivities,o=e.activitiesLoading,i=e.activityCodes,l=p.a.useState(!1),c=Object(dt.a)(l,2),u=c[0],d=c[1],s=p.a.useState([{description:"Contract Tendered Rates",id:1,__typename:"RatesetHeader"}]),m=Object(dt.a)(s,2),b=m[0],j=m[1],f=p.a.useState(!1),h=Object(dt.a)(f,2),O=h[0],x=h[1],g=Object(ae.b)(fe,{onCompleted:function(e){return j(e.ratesetHeaders.nodes)}}).loading;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)(Pn.a,{autoHighlight:!0,openOnFocus:!0,size:"small",options:b,loading:g,disableClearable:!0,fullWidth:!0,getOptionLabel:function(e){return e.description},onChange:function(e,t){!function(e){console.log(e,b),r({variables:{id:e.id}})}(t)},open:u,onOpen:function(){d(!0)},onClose:function(){d(!1)},defaultValue:{description:"Contract Tendered Rates",id:1,__typename:"RatesetHeader"},isOptionEqualToValue:function(e,t){return e.id===t.id},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},e),{},{variant:"filled",label:"Rateset"}))}})}),Object(F.jsx)(Pt.a,{item:!0,xs:4,children:Object(F.jsx)(rn.a,{control:t,name:"item.".concat(n,".ratesetPriceId"),render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,qn);return Object(F.jsx)(Pn.a,{openOnFocus:!0,size:"small",disabled:0===i.length,options:i,loading:o,disableClearable:!0,fullWidth:!0,getOptionLabel:function(e){return e.activitycode.activityCode+":  "+e.activitycode.activityDescription},onChange:function(e,t){return n(t.id)},open:O,onOpen:function(){x(!0)},onClose:function(){x(!1)},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Activity Code"}))}})}})})]})},En=(gn.d().shape({orderNumber:gn.e().required().length(7),projectTitle:gn.e().required(),areaId:gn.c().required(),worktypeId:gn.c().required(),orderStatusId:gn.c().required()}),gn.d().shape({item:gn.a().of(gn.d().shape({itemNumber:gn.c("Must Be A Number").required(),itemTypeId:gn.c().required(),packNumber:gn.e(),qtyOrdered:gn.c().required(),ratesetPriceId:gn.c().required(),valueBaseMaterials:gn.c().required()}))})),Bn=function(e){var t=e.hideModal,n=w().selectedOrder,r=w().selectedLocation[0],o=p.a.useState([]),i=Object(dt.a)(o,2),l=i[0],c=i[1],u=p.a.useState([]),d=Object(dt.a)(u,2),s=d[0],m=d[1],j=In(En),f=p.a.useRef(),h=Object(b.b)(),O=Object(ae.b)(jt,{variables:{id:n.id},fetchPolicy:"cache-and-network",onCompleted:function(e){c(e.orderdetails.nodes.map((function(e){return parseFloat(e.itemNumber)})))}}).loading,x=Object(kn.a)(he,{fetchPolicy:"cache-and-network",onCompleted:function(e){m(e.ratesetPrices.nodes)}}),g=Object(dt.a)(x,2),C=g[0],v=g[1].loading,y=Object(rn.c)({mode:"onSubmit",resolver:j,defaultValues:{item:[{qtyOrdered:"0.00",valueBaseMaterials:"0.00",packNumber:"",itemTypeId:""}]}}),I=y.handleSubmit,N=y.control,V=y.register,D=y.getValues,T=y.setValue,S=y.reset,A=y.setFocus,k=y.formState.errors,R=Object(rn.b)({control:N,name:"item"}),P=R.fields,W=R.append,q=R.remove;p.a.useEffect((function(){O||A("item[0].itemNumber")}),[A,O]);var L=Object(Xt.a)(mn,{update:function(e,t){var a=t.data.mnCreateOrderdetail.query.sitelocationWithValueById,o=t.data.mnCreateOrderdetail.query.orderheaderWithValue,i=e.readQuery({query:Bt,variables:{id:r.id}}),l=e.readQuery({query:Dn,variables:{id:n.id}});e.writeQuery(Object(vn.a)({query:Bt,variables:{id:r.id}},i,{sitelocationWithValue:a}),Object(vn.a)({query:Dn,variables:{id:n.id}},l,{orderheaderWithValue:o}))}}),E=Object(dt.a)(L,1)[0],B=Object(Xt.a)(bn),M=Object(dt.a)(B,1)[0];k&&console.log(k);return O?null:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(en.a,{children:Object(F.jsx)("form",{children:Object(F.jsx)(Pt.a,{container:!0,columnSpacing:2,rowSpacing:3,columns:14,children:P.map((function(e,t){return Object(F.jsxs)(p.a.Fragment,{children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},V("item.".concat(t,".itemNumber"))),{},{label:"Item Number",variant:"filled",fullWidth:!0,size:"small",defaultValue:0===l.length?1:Number(Math.max.apply(Math,Object(Yt.a)(l)))+1}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Fn,{control:N,index:t})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},V("item.".concat(t,".qtyOrdered"))),{},{label:"Qty Ordered",variant:"filled",fullWidth:!0,size:"small"}))}),Object(F.jsx)(Ln,{control:N,index:t,getActivities:C,activitiesLoading:v,activityCodes:s}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},V("item.".concat(t,".valueBaseMaterials"))),{},{label:"Materials Base Value",variant:"filled",fullWidth:!0,size:"small"}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},V("item.".concat(t,".packNumber"))),{},{label:"Pack Number",variant:"filled",fullWidth:!0,size:"small"}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{sx:{height:"100%",borderRadius:0,border:1},color:"action",fullWidth:!0,onClick:function(){return function(e){var t=D().item[e];console.log(t),M({variables:{priceId:t.ratesetPriceId,qtyOrdered:t.qtyOrdered,materialsValue:t.valueBaseMaterials,ratesetPriceId:""}}).then((function(t){return T("item.".concat(e,".itemValue"),Te(t.data.calculateItemValue.bigFloat))})).then(f.current.focus())}(t)},children:"get value"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({InputProps:{readOnly:!0}},V("item.".concat(t,".itemValue"))),{},{label:"Item Value",variant:"filled",fullWidth:!0,size:"small",defaultValue:"0.00"}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{sx:{height:"100%",borderRadius:0,border:1},color:"delete",fullWidth:!0,onClick:function(){return q(t)},children:"remove"})})]},e.id)}))})})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(an.a,{children:Object(F.jsxs)(Pt.a,{container:!0,p:2,spacing:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:t,color:"secondary",sx:{borderRadius:0,border:1,height:"100%"},children:"close"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"cancel",onClick:function(){return S()},sx:{borderRadius:0,border:1,height:"100%"},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{ref:f,sx:{height:"100%",borderRadius:0,border:1},color:"create",fullWidth:!0,startIcon:Object(F.jsx)(Dt.a,{}),onClick:function(){var e=D().item,t=e[e.length-1].itemNumber;W({itemNumber:Number(t)+1})},children:"add another"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"submit",onClick:I((function(e){var o=e.item,i=o.map((function(e){return parseFloat(e.itemValue.replace(/,/g,""))})).reduce((function(e,t){return e+t})),l=o.map((function(e){return{itemNumber:e.itemNumber,itemTypeId:e.itemTypeId,orderheaderId:n.id,packNumber:e.packNumber,qtyOrdered:e.qtyOrdered,ratesetPriceId:e.ratesetPriceId,sitelocationId:r.id,valueBaseMaterials:e.valueBaseMaterials}}));h({title:"Confirm Data Submission",titleProps:{color:"red",fontWeight:"bold"},content:"Submission Contains ".concat(o.length," Item(s) With A Value of ").concat(i.toLocaleString()),confirmationText:"Submit",cancellationButtonProps:{color:"secondary"},allowClose:!1,contentProps:{fontWeight:"bold"}}).then((function(){return E({variables:{input:l,locationId:r.id,orderheaderId:n.id}})})).then((function(){w(Object(a.a)(Object(a.a)({},w()),{},{selectedLocation:!1})),t()})),console.log(e,o,i)})),sx:{borderRadius:0,border:1,height:"100%"},children:"submit"})})]})})]})},Mn=function(){var e=Object(Gt.a)(w).selectedLocation,t=Object(Gt.a)(w).selectedOrder,n=e.length>1,a=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:function(){i()},fullScreen:!0,open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["CREATE ITEMS FOR PROJECT : ",t.projectTitle]}),Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["WORKSHEET REFERENCE : ",e[0].worksheetReference]}),Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["LOCATION REFERENCE : ",e[0].reference]}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:i,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(Bn,{hideModal:i})]})}),[e,t]),r=Object(dt.a)(a,2),o=r[0],i=r[1];return Object(F.jsx)(Wt.a,{onClick:o,color:"create",startIcon:Object(F.jsx)(Dt.a,{}),disabled:!1===e||n,children:"add items to location"})},Gn=n(223),$n=n.n(Gn),zn=["ref","onChange"],Hn=function(e){var t=e.control,n=e.index,r=p.a.useState(!1),o=Object(dt.a)(r,2),i=o[0],l=o[1],c=Object(ae.b)(Oe),u=c.data,d=c.loading,s="image.".concat(n,".imageTypeId");return d?null:Object(F.jsx)(rn.a,{control:t,name:s,render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,zn);return Object(F.jsx)(Pn.a,{renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Image Type"}))},isOptionEqualToValue:function(e,t){return e.id===t.id},options:u.imageTypes.nodes,openOnFocus:!0,autoSelect:!0,autoHighlight:!0,size:"small",loading:d,disableClearable:!0,fullWidth:!0,getOptionLabel:function(e){return" ".concat(e.longName)},onChange:function(e,t){return n(t)},open:i,onOpen:function(){l(!0)},onClose:function(){l(!1)}})}})},Qn=n(155),Kn=n(806),Un=n(807),_n=n(808),Jn=function(e){var t=e.imageFiles,n=e.setImages,a=e.images,r=e.preview;return Object(j.useEffect)((function(){if(t.length>0){var e=[],a=!1,r=t.map((function(t){return new Promise((function(n,a){var r=new FileReader;e.push(r),r.onload=function(e){var t=e.target.result;t&&n(t)},r.onabort=function(){a(new Error("File reading aborted"))},r.onerror=function(){a(new Error("Failed to read file"))},r.readAsDataURL(t.image)}))}));return Promise.all(r).then((function(e){a||n(e)})).catch((function(e){console.log(e)})),function(){a=!0,e.forEach((function(e){1===e.readyState&&e.abort()}))}}}),[t,n]),Object(F.jsx)(F.Fragment,{children:r&&a.length?Object(F.jsx)(Kn.a,{cols:4,gap:15,variant:"standard",children:a.map((function(e,n){var a,r;return Object(F.jsxs)(Un.a,{children:[Object(F.jsx)("img",{src:e,srcSet:e,alt:"not loaded",loading:"lazy",style:{maxHeight:"500px"}}),Object(F.jsx)(_n.a,{title:null===(a=t[n])||void 0===a?void 0:a.title,subtitle:Object(F.jsxs)("span",{children:["Date Taken: ",null===(r=t[n])||void 0===r?void 0:r.date,Object(F.jsx)("br",{})," Row Number: ",n+1]}),position:"bottom"})]},n)}))}):null})},Yn=n(771),Zn=n(785),Xn=Ne.DateTime.now().toISODate(),ea=/image\/(png|jpg|jpeg)/i,ta=function(e){var t=e.hideModal,n=p.a.useRef(),r=p.a.useRef(),o=p.a.useState([]),i=Object(dt.a)(o,2),l=i[0],c=i[1],u=p.a.useState([]),d=Object(dt.a)(u,2),s=d[0],m=d[1],j=p.a.useState(!1),f=Object(dt.a)(j,2),h=f[0],O=f[1],x=Object(Yn.a)(!0),g=Object(dt.a)(x,2),C=g[0],v=g[1],y=Object(Zn.a)(1),I=Object(dt.a)(y,1)[0],N=Object(Zn.a)(4),V=Object(dt.a)(N,1)[0],D=Object(Zn.a)(1,V,I),T=Object(dt.a)(D,2),S=T[0],A=T[1],k=A.inc,R=A.dec,P=(A.set,A.reset),W=Object(b.b)(),q=Object(rn.c)({defaultValues:{image:[{notes:"",headerImageFile:""}]}}),L=q.register,E=q.handleSubmit,B=q.control,M=q.reset,G=q.setFocus,$=q.getValues,z=Object(rn.b)({control:B,name:"image"}),H=z.fields,Q=z.append,K=z.remove,U=Object(Xt.a)(jn),_=Object(dt.a)(U,1)[0],J=function(){var e=Object(yn.a)(Object(Cn.a)().mark((function e(t){var n,a,r,o;return Object(Cn.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qn.a.parse(t.headerImageFile[0]),a=Qn.a.gps(t.headerImageFile[0]),r=Qn.a.parse(t.headerImageFile[0],["DateTimeOriginal"]),o=Qn.a.orientation(t.headerImageFile[0]),e.next=6,Promise.all([n,a,r,o]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(yn.a)(Object(Cn.a)().mark((function e(t){var n,a,r,o,i,l,c,u,d,s;return Object(Cn.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return n=e.sent,a=Object(dt.a)(n,4),r=a[0],o=a[1],i=a[2],l=a[3],c=t.dateTakenManual,u=t.headerImageFile,d=t.imageTypeId,s=t.notes,e.abrupt("return",{createdAt:Xn,dateTakenManual:c,headerImageFile:u[0],imageTypeId:Number(d.id),sitelocationId:w().selectedLocation[0].id,exif:r,exifGps:o,notes:s,exifDate:null===i||void 0===i?void 0:i.DateTimeOriginal,orientation:l});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(yn.a)(Object(Cn.a)().mark((function e(t,n){var a,r,o,i,u,d,s,m;return Object(Cn.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],r=$(),o=r.image,i=o[n],e.t0=a,e.t1=i.imageTypeId.longName,e.t2=i.dateTakenManual,e.t3=n,e.next=9,Qn.a.orientation(a);case 9:if(e.t4=e.sent,(u={image:e.t0,title:e.t1,date:e.t2,id:e.t3,orientation:e.t4}).image.type.match(ea)){e.next=14;break}return alert("Image mime type is not valid"),e.abrupt("return");case 14:d=l.filter((function(e,t){return t!==n})),s=[].concat(Object(Yt.a)(d),[u]),m=s.sort((function(e,t){return e.id-t.id})),c(m);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return p.a.useEffect((function(){G("image[0].dateTakenManual")}),[G]),p.a.useEffect((function(){O(S>3)}),[S]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(en.a,{children:[Object(F.jsx)("form",{children:Object(F.jsx)(Pt.a,{container:!0,columnSpacing:2,rowSpacing:3,columns:7,children:H.map((function(e,t){return Object(F.jsxs)(p.a.Fragment,{children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({label:"Date Taken"},L("image.".concat(t,".dateTakenManual"))),{},{type:"date",variant:"filled",fullWidth:!0,defaultValue:Xn}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Hn,{control:B,index:t})}),Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({fullWidth:!0,variant:"filled",accept:"image/*",type:"file",sx:{height:"100%"}},L("image.".concat(t,".headerImageFile"))),{},{onChange:function(e){return Z(e,t)}}))}),Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({variant:"filled",fullWidth:!0,multiline:!0,label:"notes"},L("image.".concat(t,".notes"))),{},{onBlur:function(){return n.current.focus()}}))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"delete",onClick:function(){return function(e){c((function(t){return t.filter((function(t,n){return n!==e}))})),K(e),R()}(t)},sx:{borderRadius:0,border:1,height:"100%"},children:"remove"})})]},e.id)}))})}),Object(F.jsxs)(_t.a,{sx:{position:"absolute",bottom:250,border:0,borderStyle:"solid",m:4,pl:2,pr:2,borderRadius:0},children:[Object(F.jsx)(nn.a,{}),Object(F.jsx)(Jn,{imageFiles:l,setImages:m,images:s,preview:C})]})]}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(an.a,{children:Object(F.jsxs)(Pt.a,{container:!0,p:2,spacing:2,columns:5,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:t,color:"secondary",sx:{borderRadius:0,border:1,height:"100%"},children:"close"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"cancel",onClick:function(){M(),c([]),m([]),P()},sx:{borderRadius:0,border:1,height:"100%"},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{ref:n,disabled:h,sx:{height:"100%",borderRadius:0,border:1},color:"create",fullWidth:!0,startIcon:Object(F.jsx)(Dt.a,{}),onClick:function(){Q(),k()},children:"add another"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{color:"action",startIcon:Object(F.jsx)($n.a,{}),fullWidth:!0,sx:{height:"100%",borderRadius:0,border:1},onClick:v,children:C?"Hide Images":"Preview Images"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{ref:r,fullWidth:!0,color:"submit",onClick:E((function(e){var n=e.image;W({title:"Confirm Data Submission",titleProps:{color:"red",fontWeight:"bold"},content:"Submission Contains ".concat(n.length," Item(s)"),confirmationText:"Confirm",cancellationButtonProps:{color:"secondary"},allowClose:!1,contentProps:{fontWeight:"bold"}}).then((function(){return Promise.all(n.map((function(e){return Y(e)})))})).then((function(e){_({variables:{input:e}}).then(console.log,console.error).then((function(){return t()}))}))})),sx:{borderRadius:0,border:1,height:"100%"},children:"submit"})})]})})]})},na=function(){var e=Object(Gt.a)(w).selectedLocation,t=Object(Gt.a)(w).selectedOrder,n=e.length>1,a=Object(g.b)((function(){var n,a;return Object(F.jsxs)(Kt.a,{onClose:function(){i()},fullScreen:!0,maxWidth:"xl",open:!0,children:[Object(F.jsx)(Ut.a,{children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["UPLOAD IMAGES FOR PROJECT : ",t.projectTitle]}),Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["WORKSHEET REFERENCE : ",null===(n=e[0])||void 0===n?void 0:n.worksheetReference]}),Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["LOCATION REFERENCE : ",null===(a=e[0])||void 0===a?void 0:a.reference]}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:i,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(ta,{hideModal:i})]})}),[e,t]),r=Object(dt.a)(a,2),o=r[0],i=r[1];return Object(F.jsx)("div",{children:Object(F.jsx)(Wt.a,{startIcon:Object(F.jsx)($n.a,{}),onClick:o,disabled:!1===e||n,children:"upload image"})})},aa=function(){var e,t=Object(Gt.a)(w).selectedLocation,n=t.length>1,a=Object(v.e)(),r=Object(v.f)().id;return Object(F.jsxs)(Pt.a,{container:!0,columnSpacing:2,mb:2,mt:2,columns:6,children:[Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Sn,{id:r})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Mn,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{disabled:!1===t||n,startIcon:Object(F.jsx)(At.a,{}),color:"update",children:"edit location"})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(An,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(na,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{onClick:function(){return a("progress")},color:"action",startIcon:Object(F.jsx)(zt.a,{}),disabled:!1===t||n||0===parseFloat(null===(e=t[0])||void 0===e?void 0:e.itemCount),children:"update site progress"})})]})},ra=function(){return p.a.useEffect((function(){w(Object(a.a)(Object(a.a)({},w()),{},{selectedLocation:!1}))}),[]),Object(F.jsxs)("div",{children:[Object(F.jsx)(aa,{}),Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"grid-title",children:"Project Locations List"}),Object(F.jsx)(Mt,{})]})},oa=function(){var e=Object(v.e)(),t=Object(v.d)(),n=Object(v.f)().id;return Object(F.jsxs)(Pt.a,{container:!0,spacing:2,mb:2,mt:1,columns:7,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{disabled:t.pathname==="/projects/processing/".concat(n,"/locations"),color:"navigation",onClick:function(){return e("locations")},children:"locations"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{disabled:t.pathname==="/projects/processing/".concat(n,"/items"),color:"navigation",onClick:function(){return e("items")},children:"items"})}),Object(F.jsxs)(Pt.a,{item:!0,xs:1,children:[Object(F.jsx)(Wt.a,{disabled:t.pathname==="/projects/processing/".concat(n,"/worksheets"),color:"navigation",onClick:function(){return e("worksheets")},children:"works completed"})," "]}),Object(F.jsxs)(Pt.a,{item:!0,xs:1,children:[Object(F.jsx)(Wt.a,{color:"navigation",disabled:t.pathname==="/projects/processing/".concat(n,"/applications"),onClick:function(){return e("applications")},children:"application processing"})," "]}),Object(F.jsxs)(Pt.a,{item:!0,xs:1,children:[Object(F.jsx)(Wt.a,{color:"navigation",disabled:t.pathname==="/projects/processing/".concat(n,"/documents"),onClick:function(){return e("documents")},children:"documents"})," "]}),Object(F.jsxs)(Pt.a,{item:!0,xs:1,children:[Object(F.jsx)(Wt.a,{color:"navigation",onClick:function(){return e("images")},disabled:t.pathname==="/projects/processing/".concat(n,"/images"),children:"view images"})," "]}),Object(F.jsxs)(Pt.a,{item:!0,xs:1,children:[Object(F.jsx)(Wt.a,{color:"navigation",onClick:function(){return e("workbooks")},disabled:t.pathname==="/projects/processing/".concat(n,"/workbooks"),children:"reports"})," "]})]})},ia=n(711),la=["sx"];function ca(e){e.sx;var t=Object(Rn.a)(e,la);return Object(F.jsx)(_t.a,Object(a.a)({border:1,flexGrow:1,bgcolor:"#b4cce4",m:.5,p:.5,textAlign:"center",borderRadius:2},t))}var ua,da,sa,ma,ba,ja=function(){var e=Object(v.f)().id,t=Object(ae.b)(Dn,{variables:{id:Number(e)},fetchPolicy:"cache-and-network"}),n=t.data;return t.loading?Object(F.jsx)(st.a,{}):Object(F.jsxs)(_t.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-between",mb:1,ml:.5,mr:.5,children:[Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"PROJECT NAME"}),Object(F.jsx)(ia.a,{children:(null===n||void 0===n?void 0:n.orderheaderWithValue.projectTitle.substring(0,25))+"..."})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"PROJECT NO"}),Object(F.jsx)(ia.a,{children:null===n||void 0===n?void 0:n.orderheaderWithValue.orderNumber})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"STATUS"}),Object(F.jsxs)(ia.a,{children:[null===n||void 0===n?void 0:n.orderheaderWithValue.statusDescription," "]})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"AREA"}),Object(F.jsx)(ia.a,{children:null===n||void 0===n?void 0:n.orderheaderWithValue.area})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"LABOUR"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueLabour)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"MATERIALS"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueMaterials)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"OTHER"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueOther)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"TOTAL"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotal)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"COMPLETE"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalComplete)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"TO DO"}),Object(F.jsx)(ia.a,{children:we((null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotal)-(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalComplete))})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"APPLIED"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalApplied)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"TO APPLY"}),Object(F.jsx)(ia.a,{children:we((null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalComplete)-(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalApplied))})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{children:"BOQ VAL"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalBoq)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"VARN VAL"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.orderValueTotalVarn)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"LOCATIONS"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.locationCount)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"COMPLETE"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.locationsComplete)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"ITEMS"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.itemCount)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"COMPLETE"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.itemsComplete)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"DOCS"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.documentCount)})]}),Object(F.jsxs)(ca,{children:[Object(F.jsx)(ia.a,{fontWeight:"bold",children:"IMAGES"}),Object(F.jsx)(ia.a,{children:we(null===n||void 0===n?void 0:n.orderheaderWithValue.imageCount)})]})]})},pa=function(){Object(v.f)().id;return Object(F.jsxs)("div",{children:[Object(F.jsx)(ja,{}),Object(F.jsx)("hr",{}),Object(F.jsx)(oa,{}),Object(F.jsx)(v.a,{})]})},fa=n(784),ha=Object(j.forwardRef)((function(e,t){Ne.DateTime.now().toISODate();var n=Object(j.useRef)(),a=Object(j.useState)((function(){return e.lastRowDate?e.lastRowDate.data.date:e.currentPeriod.weekEndingDate})),r=Object(dt.a)(a,2),o=r[0],i=r[1];return Object(j.useEffect)((function(){n.current.focus(),n.current.select()}),[]),Object(j.useImperativeHandle)(t,(function(){return{getValue:function(){return o}}})),Object(F.jsx)("input",{type:"date",className:"ag-input-field-input ag-text-field-input",ref:n,onChange:function(e){i(e.target.value.toLocaleString())},value:o})})),Oa=p.a.forwardRef((function(e,t){var n=p.a.useState(e.data.qtyOs),a=Object(dt.a)(n,2),r=a[0],o=a[1],i=p.a.useRef(),l=Object(f.c)(),c=p.a.useCallback((function(t){Number(t.target.value)>Number(e.data.qtyOs)?l.error("Qty Done Cannot Exceed Qty Outstanding",{position:"middle",onClose:function(){i.current.select()}}):o(t.target.value)}),[e.data.qtyOs,l]),u=p.a.useCallback((function(e){(function(e){return"1"===e.key||"2"===e.key||"3"===e.key||"4"===e.key||"5"===e.key||"6"===e.key||"7"===e.key||"8"===e.key||"9"===e.key||"0"===e.key||"."===e.key})(e.nativeEvent)||e.preventDefault()}),[]);return p.a.useEffect((function(){e.cellStartedEdit&&i.current.focus(),e.cellStartedEdit&&i.current.select()}),[e.cellStartedEdit]),p.a.useImperativeHandle(t,(function(){return{getValue:function(){return r}}})),Object(F.jsx)("input",{className:"ag-input-field-input ag-text-field-input",ref:i,value:r,onChange:c,style:{height:"100%"},onKeyPress:u})})),xa=p.a.forwardRef((function(e,t){var n=e.lastRowSupervisor?e.lastRowSupervisor.data.supervisor:e.options[0].displayName,a=p.a.useState(n),r=Object(dt.a)(a,2),o=r[0],i=r[1],l=e.options.map((function(e){return e.displayName}));return p.a.useImperativeHandle(t,(function(){return{getValue:function(){return o}}})),Object(F.jsx)("select",{style:{height:"100%",width:"100%"},name:"supervisor",id:"supervisor",autoFocus:!0,onChange:function(e){i(e.target.value)},defaultValue:n,children:l.map((function(e){return Object(F.jsx)("option",{value:e,children:e},e)}))})})),ga=function(){var e=Object(v.f)().id,t=p.a.useRef(),n=p.a.useRef(Object(fa.a)()),r=Object(f.c)(),o=Object(v.e)(),i=Object(b.b)(),l=Object(Gt.a)(w).selectedLocation,c=Object(ae.b)(me).data,u=p.a.useState(),d=Object(dt.a)(u,2),s=d[0],m=d[1],j=Object(ae.b)(be).data,h=p.a.useMemo((function(){return[{headerName:"Item Ref",field:"itemNumber"},{headerName:"Item Type",field:"typeShort"},{headerName:"Activity Code",field:"activityCode"},{headerName:"Activity Description",field:"activityDescription"},{headerName:"Qty Ordered",field:"qtyOrdered",type:"numericColumn",valueFormatter:De},{headerName:"Qty Os",field:"qtyOs",valueFormatter:De,type:"numericColumn"},{headerName:"Value Os",field:"valueOs",valueFormatter:De,type:"numericColumn"},{headerName:"Qty Done",field:"qtyDone",type:"numericColumn",editable:!0,cellEditor:Oa,valueFormatter:De,valueParser:function(e){return Number(e.newValue)}},{headerName:"Supervisor",colId:"supervisor",field:"supervisor",editable:!0,suppressKeyboardEvent:function(e){var t=e.event.key;return e.editing&&"ArrowUp"===t||"ArrowDown"===t||"Enter"===t},cellEditor:xa,cellEditorParams:function(e){return{options:c.supervisors.nodes,lastRowSupervisor:e.api.getRowNode(e.rowIndex-1)}}},{headerName:"Date Complete",field:"date",editable:!0,cellEditor:ha,cellEditorParams:function(e){return{lastRowDate:e.api.getRowNode(e.rowIndex-1),currentPeriod:j.periods.nodes[0]}},valueFormatter:function(e){return e.value&&e.value.split("-").reverse().join("/")}},{headerName:"Value Complete",field:"valueComplete",valueGetter:function(e){return e.data.qtyDone*e.data.valueOs/e.data.qtyOs},valueFormatter:De,type:"numericColumn"}]}),[c,j]),O=Object(ae.b)(Et,{variables:{id:l[0].id},onCompleted:function(e){return m(e.orderdetailWithValues.nodes.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{qtyDone:0})})))}}),x=O.data,g=Object(Xt.a)(un,{onCompleted:function(){o(-1)}}),C=Object(dt.a)(g,1)[0],y=function(e){return{dateComplete:e.date,qtyComplete:e.qtyDone,supervisorId:c.supervisors.nodes.find((function(t){return t.displayName===e.supervisor})).id,orderdetailId:e.id,periodNumberId:j.periods.nodes[0].id,sitelocationId:e.sitelocationId,orderheaderId:e.orderheaderId,batchId:n.current,valueComplete:e.qtyDone*Number(e.unitPayableTotal)}},I=function(e){var t=e.hasOwnProperty("supervisor"),n=e.hasOwnProperty("date");return t&&n},N=function(t){console.log("submitting");var n=t.length,a=t.map((function(e){return Number(e.valueComplete)})).reduce((function(e,t){return e+t}));console.log(n,a),i({title:"Confirm Data Update Submission",titleProps:{color:"red",fontWeight:"bold"},description:"This will update ".concat(n," item(s) with a value of ").concat(Te(a)),confirmationText:"Submit",cancellationButtonProps:{color:"secondary"},confirmationButtonProps:{autoFocus:!0},allowClose:!1}).then((function(){return C({variables:{input:{worksheets:t},orderId:Number(e),locationId:l[0].id}})})).catch((function(){return console.log("submission cancelled")}))},V=function(){var e=Object(yn.a)(Object(Cn.a)().mark((function e(t){var n,a,o,i,l;return Object(Cn.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.filter((function(e){return e.qtyDone>0})),e.next=3,n.map(function(){var e=Object(yn.a)(Object(Cn.a)().mark((function e(t){return Object(Cn.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return a=e.sent,e.next=6,Promise.all(a);case 6:o=e.sent,i=o.includes(!1),l=n.map((function(e){return y(e)})),console.log(i,l),i?r.error("One or More Items Has Missing Data"):N(l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Pt.a,{container:!0,columns:2,spacing:2,mb:2,children:[Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{onClick:function(){t.current.api.stopEditing(),t.current.api.setRowData(x.orderdetailWithValues.nodes.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{qtyDone:0})})))},color:"cancel",children:"undo changes"})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{color:"action",onClick:V,children:"save changes"})})]}),Object(F.jsx)("div",{className:"grid-title",children:"UPDATE PROJECT LOCATION PROGRESS"}),Object(F.jsx)(mt.AgGridReact,{rowData:s,defaultColDef:{flex:1},columnDefs:h,className:"ag-theme-alpine",animateRows:"true",ref:t,domLayout:"autoHeight",singleClickEdit:!0,enableCellChangeFlash:!0,onFirstDataRendered:function(e){e.api.startEditingCell({rowIndex:0,colKey:"qtyDone"})}})]})},Ca=function(){return Object(F.jsx)("div",{children:Object(F.jsx)(ga,{})})},va=function(){var e=Object(v.f)().id,t=p.a.useRef(),n=p.a.useState(),a=Object(dt.a)(n,2),r=a[0],o=a[1],i=Object(ae.b)(se,{variables:{id:Number(e)},onCompleted:function(e){return o(e.worksheetWithValues.nodes)}}).loading,l=p.a.useMemo((function(){return[{headerName:"Worksheet Ref",field:"worksheetReference"},{headerName:"Batch Ref",field:"batchId"},{headerName:"Location",field:"locationReference",flex:2},{headerName:"Item Number",field:"itemNumber",sort:"asc"},{headerName:"Activity Code",field:"activityCode"},{headerName:"Activity Description",field:"activityDescription",flex:2},{headerName:"Work Done Date",field:"dateComplete",valueFormatter:function(e){return new Date(e.value).toLocaleDateString("en-GB")}},{headerName:"Year",field:"year"},{headerName:"Week Number",field:"week"},{headerName:"Supervisor Name",field:"supervisorName"},{headerName:"Qty Complete",field:"qtyComplete",type:"numericColumn",valueFormatter:De},{headerName:"Value Complete",field:"valueComplete",type:"numericColumn",valueFormatter:De},{headerName:"Applied",field:"applied",type:"rightAligned",valueFormatter:function(e){return e.value?"Yes":"No"}},{headerName:"App Number",field:"applicationNumber",type:"numericColumn"},{headerName:"Reporting Period",field:"periodNumber",type:"numericColumn"}]}),[]),c=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return i?Object(F.jsx)(st.a,{}):Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:l,defaultColDef:c,rowData:r,rowSelection:"single",ref:t,domLayout:"autoHeight",enableCellChangeFlash:!0,pagination:!0,paginationPageSize:20})},ya=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"grid-title",children:"Project Worksheets List"}),Object(F.jsx)(va,{})]})},Ia=Object(le.d)(ua||(ua=Object(ie.a)(["\n\tquery GetProjectApplicationDetails($orderId: Int!) {\n\t\tapplicationSummaryOrderheaderWithCumulativeValues(\n\t\t\tcondition: { orderId: $orderId }\n\t\t\torderBy: APPLICATION_NUMBER_ASC\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tapplicationId\n\t\t\t\tapplicationNumber\n\t\t\t\tapplicationReference\n\t\t\t\tprevCumulativeApplicationValue\n\t\t\t\tthisApplicationValue\n\t\t\t\tcumulativeApplicationValue\n\t\t\t\titemCount\n\t\t\t\tlocationCount\n\t\t\t\tapplicationCurrent\n\t\t\t}\n\t\t}\n\t}\n"]))),Na=Object(le.d)(da||(da=Object(ie.a)(["\n\tquery GetProjectItemsAvailableForApplication($orderId: Int!) {\n\t\twpmGraphqlGetItemsAvailableForApplication(\n\t\t\tfilter: { orderheaderId: { equalTo: $orderId } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tworksheetReference\n\t\t\t\tlocationReference\n\t\t\t\titemNumber\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\tqtyComplete\n\t\t\t\tvalueComplete\n\t\t\t\tunitPayableTotal\n\t\t\t\tid\n\t\t\t\tsitelocationId\n\t\t\t\tvalueApplied\n\t\t\t}\n\t\t}\n\t\twpmGraphqlGetLocationsAvailableForApplication(\n\t\t\tfilter: { orderheaderId: { equalTo: $orderId } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tworksheetReference\n\t\t\t\treference\n\t\t\t\tid\n\t\t\t\timageCount\n\t\t\t\titemCount\n\t\t\t\titemsComplete\n\t\t\t\tvalueComplete\n\t\t\t\torderheaderId\n\t\t\t\tvalueApplied\n\t\t\t}\n\t\t}\n\t\twpmGraphqlGetWorksheetsAvailableForApplication(\n\t\t\tfilter: { orderheaderId: { equalTo: $orderId } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tworksheetReference\n\t\t\t\titemNumber\n\t\t\t\tactivityCode\n\t\t\t\tactivityDescription\n\t\t\t\tqtyComplete\n\t\t\t\tvalueComplete\n\t\t\t\tdateComplete\n\t\t\t\tsupervisorName\n\t\t\t\tid\n\t\t\t\torderdetailId\n\t\t\t\tsitelocationId\n\t\t\t}\n\t\t}\n\t}\n"]))),Va=Object(le.d)(sa||(sa=Object(ie.a)(["\n\tquery GetApplicationHeaders {\n\t\tapplicationSummaryWithCumulativeValues {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tapplicationNumber\n\t\t\t\tapplicationReference\n\t\t\t\tapplicationDate\n\t\t\t\tapplicationCurrent\n\t\t\t\tapplicationOpen\n\t\t\t\tapplicationSubmitted\n\t\t\t\tprevCumulativeApplicationValue\n\t\t\t\tthisApplicationValue\n\t\t\t\tcumulativeApplicationValue\n\t\t\t\titemCount\n\t\t\t\tlocationCount\n\t\t\t\timageCount\n\t\t\t\torderCount\n\t\t\t\tareaCount\n\t\t\t}\n\t\t}\n\t}\n"]))),Da=(Object(le.d)(ma||(ma=Object(ie.a)(["\n\tquery GetCurrentApplication {\n\t\tapplications(condition: { applicationCurrent: true }) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tapplicationReference\n\t\t\t\tapplicationNumber\n\t\t\t}\n\t\t}\n\t}\n"]))),Object(le.d)(ba||(ba=Object(ie.a)(["\n\tquery GetProjectsAvailableForApplication {\n\t\twpmGraphqlGetOrdersAvailableForApplication {\n\t\t\tnodes {\n\t\t\t\tarea\n\t\t\t\tareaId\n\t\t\t\taverageItemValue\n\t\t\t\taverageLocationValue\n\t\t\t\tdocumentCount\n\t\t\t\tendDate\n\t\t\t\tid\n\t\t\t\timageCount\n\t\t\t\tissuedDate\n\t\t\t\titemCount\n\t\t\t\titemCountBoq\n\t\t\t\titemCountVarn\n\t\t\t\titemsComplete\n\t\t\t\titemsCompleteBoq\n\t\t\t\titemsCompleteVarn\n\t\t\t\tlocationCount\n\t\t\t\tlocationsComplete\n\t\t\t\tnotes\n\t\t\t\torderNumber\n\t\t\t\torderStatusId\n\t\t\t\torderValueLabour\n\t\t\t\torderValueMaterials\n\t\t\t\torderValueOther\n\t\t\t\torderValueTotal\n\t\t\t\torderValueTotalApplied\n\t\t\t\torderValueTotalBoq\n\t\t\t\torderValueTotalComplete\n\t\t\t\torderValueTotalVarn\n\t\t\t\tprojectTitle\n\t\t\t\tstartDate\n\t\t\t\tstatusDescription\n\t\t\t\tworkType\n\t\t\t\tworktypeId\n\t\t\t}\n\t\t}\n\t}\n"])))),wa=function(){var e=Object(v.f)().id,t=p.a.useState(null),n=Object(dt.a)(t,2),a=n[0],r=n[1],o=Object(ae.b)(Ia,{variables:{orderId:Number(e)},onCompleted:function(e){return r(e.applicationSummaryOrderheaderWithCumulativeValues.nodes)}}).loading,i=p.a.useMemo((function(){return[{field:"applicationNumber",sort:"desc"},{field:"applicationReference"},{field:"prevCumulativeApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"thisApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter",cellStyle:{fontWeight:"bold"}},{field:"cumulativeApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"locationCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"itemCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"}]}),[]),l=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),c=p.a.useMemo((function(){return{"application-current":function(e){return e.data.applicationCurrent}}}),[]);return o?null:Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:i,defaultColDef:l,rowData:a,domLayout:"autoHeight",pagination:!0,paginationPageSize:5,suppressRowClickSelection:!0,rowClassRules:c})},Ta=function(e){var t=e.setItemData,n=e.rowData,a=e.allItems,r=p.a.useRef(),o=p.a.useMemo((function(){return[{field:"worksheetReference",checkboxSelection:!0,headerCheckboxSelection:!0},{field:"reference"},{field:"itemsAvailable",type:"numericColumn"},{field:"valueAvailable",valueFormatter:De,type:"numericColumn",filter:"agNumberColumnFilter"}]}),[]),i=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),l=p.a.useCallback((function(){var e=r.current.api.getSelectedRows();t(a.filter((function(t){return e.some((function(e){return e.id===t.sitelocationId}))})))}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:o,defaultColDef:i,rowData:n,domLayout:"autoHeight",suppressRowClickSelection:!0,rowSelection:"multiple",onSelectionChanged:l,ref:r,onGridReady:function(e){e.api.setPinnedBottomRowData([{worksheetReference:"TOTALS",itemsAvailable:n.map((function(e){return Number(e.itemsAvailable)})).reduce((function(e,t){return e+t}),0),valueAvailable:n.map((function(e){return Number(e.valueAvailable)})).reduce((function(e,t){return e+t}),0)}])},pinnedBottomRowData:[],getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})},Sa=n(772),Aa=function(e){var t=e.rowData,n=e.setWorksheetData,a=e.allWorksheets,r=Object(Sa.a)(t),o=p.a.useRef(),i=p.a.useMemo((function(){return[{field:"worksheetReference",checkboxSelection:!0,headerCheckboxSelection:!0},{field:"itemNumber",sort:"asc"},{field:"activityCode"},{field:"activityDescription"},{field:"worksheetsAvailable",type:"numericColumn"},{field:"qtyComplete",valueFormatter:function(e){return e.value?De(e):null},type:"numericColumn",filter:"agNumberColumnFilter"},{field:"unitPayableTotal",valueFormatter:function(e){return e.value?De(e):null},type:"numericColumn",filter:"agNumberColumnFilter"},{field:"valueAvailable",headerName:"Value Available",valueFormatter:De,type:"numericColumn",filter:"agNumberColumnFilter"}]}),[]),l=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),c=p.a.useCallback((function(){var e=o.current.api.getSelectedRows();n(a.filter((function(t){return e.some((function(e){return e.id===t.orderdetailId}))})))}),[a,n]);p.a.useEffect((function(){if(o.current.api){var e=o.current.api.getSelectedNodes().map((function(e){return e.data.id})),n=t.filter((function(e){return r.every((function(t){return t.id!==e.id}))})).map((function(e){return e.id})),a=[].concat(Object(Yt.a)(e),Object(Yt.a)(n));o.current.api.forEachNode((function(e){e.setSelected(a.includes(e.data.id))})),(e=o.current.api.getSelectedNodes()).length?o.current.api.setPinnedBottomRowData(u()):o.current.api.setPinnedBottomRowData([])}}),[t]);var u=function(){return[{worksheetReference:"TOTALS",valueAvailable:t.map((function(e){return Number(e.valueAvailable)})).reduce((function(e,t){return e+t}))}]};return Object(F.jsx)("div",{style:{height:"40vh"},children:Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:i,defaultColDef:l,rowData:t,getRowId:function(e){return e.data.id},suppressRowClickSelection:!0,rowSelection:"multiple",onSelectionChanged:c,ref:o,overlayNoRowsTemplate:'<span style="padding: 10px; border: 2px solid #444; font-size: 20px; font-weight: bold; background: #fff">No Location Selected</span>',pinnedBottomRowData:[],getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})})},ka=function(e){var t=e.rowData,n=Object(Sa.a)(t),a=p.a.useRef(),r=p.a.useMemo((function(){return[{field:"worksheetReference",checkboxSelection:!0,headerCheckboxSelection:!0},{field:"itemNumber",sort:"asc"},{field:"activityCode"},{field:"activityDescription"},{field:"qtyComplete",valueFormatter:function(e){return e.value?De(e):null},type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Work Done Date",field:"dateComplete",valueFormatter:function(e){return e.value?new Date(e.value).toLocaleDateString("en-GB"):null}},{headerName:"Supervisor Name",field:"supervisorName"},{field:"valueComplete",headerName:"Value Available",valueFormatter:De,type:"numericColumn",filter:"agNumberColumnFilter"}]}),[]),o=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);p.a.useEffect((function(){if(a.current.api){var e=a.current.api.getSelectedNodes().map((function(e){return e.data.id})),r=t.filter((function(e){return n.every((function(t){return t.id!==e.id}))})).map((function(e){return e.id})),o=[].concat(Object(Yt.a)(e),Object(Yt.a)(r));a.current.api.forEachNode((function(e){e.setSelected(o.includes(e.data.id))})),(e=a.current.api.getSelectedNodes()).length?a.current.api.setPinnedBottomRowData(i()):a.current.api.setPinnedBottomRowData([])}}),[t]);var i=function(){return[{worksheetReference:"TOTALS",valueComplete:t.map((function(e){return Number(e.valueComplete)})).reduce((function(e,t){return e+t}))}]};return Object(F.jsx)("div",{style:{height:"40vh"},children:Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:r,defaultColDef:o,rowData:t,getRowId:function(e){return e.data.id},suppressRowClickSelection:!0,rowSelection:"multiple",ref:a,overlayNoRowsTemplate:'<span style="padding: 10px; border: 2px solid #444; font-size: 20px; font-weight: bold; background: #fff">No Location Selected</span>',pinnedBottomRowData:[{}],getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})})},Ra={container:{display:"flex"},columnContainer:{display:"flex",flexDirection:"column",flexGrow:1}},Pa=function(){var e=Object(v.f)().id,t=Object(b.b)(),n=p.a.useState([]),r=Object(dt.a)(n,2),o=r[0],i=r[1],l=p.a.useState([]),c=Object(dt.a)(l,2),u=c[0],d=c[1],s=p.a.useState([]),m=Object(dt.a)(s,2),j=m[0],f=m[1],h=p.a.useState([]),O=Object(dt.a)(h,2),x=O[0],g=O[1],C=p.a.useState([]),y=Object(dt.a)(C,2),I=y[0],N=y[1],V=Object(ae.b)(Na,{variables:{orderId:Number(e)},fetchPolicy:"cache-and-network",onCompleted:function(e){i(e.wpmGraphqlGetLocationsAvailableForApplication.nodes.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{itemsAvailable:e.wpmGraphqlGetItemsAvailableForApplication.nodes.filter((function(e){return e.sitelocationId===t.id})).length,valueAvailable:Number(t.valueComplete)-Number(t.valueApplied)})}))),g(e.wpmGraphqlGetItemsAvailableForApplication.nodes.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{worksheetsAvailable:e.wpmGraphqlGetWorksheetsAvailableForApplication.nodes.filter((function(e){return e.orderdetailId===t.id})).length,valueAvailable:Number(t.valueComplete)-Number(t.valueApplied)})}))),N(e.wpmGraphqlGetWorksheetsAvailableForApplication.nodes)}}),D=V.loading,w=V.refetch,T=Object(Xt.a)(On,{refetchQueries:[{query:Ia,variables:{orderId:Number(e)}}],awaitRefetchQueries:!0,onCompleted:function(){return w()}}),S=Object(dt.a)(T,1)[0];return D?null:Object(F.jsxs)(_t.a,{sx:Ra.container,children:[Object(F.jsxs)(_t.a,{sx:Ra.columnContainer,children:[Object(F.jsxs)(_t.a,{p:2,children:[Object(F.jsx)("div",{className:"grid-title",children:"Project Applications List"}),Object(F.jsx)(wa,{})]}),Object(F.jsxs)(_t.a,{p:2,children:[Object(F.jsx)("div",{className:"grid-title",children:"Project Locations Available For Application"}),Object(F.jsx)(Ta,{setItemData:d,rowData:o,allItems:x})]}),Object(F.jsx)(_t.a,{p:2,children:Object(F.jsx)(Wt.a,{color:"submit",disabled:0===j.length,onClick:function(){var n=j.map((function(e){return e.id})),a=Object(Yt.a)(new Set(j.map((function(e){return e.sitelocationId})))).length,r=Object(Yt.a)(new Set(j.map((function(e){return e.orderdetailId})))).length;t({title:"Confirm Data Submission",titleProps:{color:"red",fontWeight:"bold"},content:"Submission Contains ".concat(a," locations(s)\n\t\t\t\t ").concat(r," item(s) With A Value of ").concat(j.map((function(e){return Number(e.valueComplete)})).reduce((function(e,t){return e+t})).toLocaleString()),confirmationText:"Submit",cancellationButtonProps:{color:"secondary"},allowClose:!1,contentProps:{fontWeight:"bold"}}).then((function(){return S({variables:{input:n,orderId:Number(e)}})})).then((function(){d([]),f([])}))},children:"add items to application"})})]}),Object(F.jsxs)(_t.a,{sx:Ra.columnContainer,children:[Object(F.jsxs)(_t.a,{p:2,children:[Object(F.jsx)("div",{className:"grid-title",children:"Location Items Available For Application"}),Object(F.jsx)(Aa,{rowData:u,setWorksheetData:f,allWorksheets:I})]}),Object(F.jsxs)(_t.a,{p:2,children:[Object(F.jsx)("div",{className:"grid-title",children:"Item Worksheets Available For Application"}),Object(F.jsx)(ka,{rowData:j,itemData:u})]})]})]})},Wa=n(789),Fa=function(e){var t=e.data;return Object(F.jsx)(Wa.a,{href:"".concat("http://192.168.0.23:9433","/documents/").concat(t.headerDocumentFile.id),target:"_blank",children:t.headerDocumentFile.id})},qa=function(e){var t=e.rowData,n=p.a.useMemo((function(){return[{field:"title"},{field:"createdAt",filter:"agDateColumnFilter",valueFormatter:function(e){return Se(e.value)}},{colId:"documentType",headerName:"Document Type",valueGetter:function(e){return e.data.global?"Global":"Project"}},{colId:"hyperLink",headerName:"Open Document",cellRenderer:Fa,cellStyle:{fontWeight:"bold"}}]}),[]),a=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:n,defaultColDef:a,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0})},La=n(773),Ea=n(809),Ba=n(810),Ma=n(779),Ga=n(800),$a=n(783),za=n(801),Ha=n(802),Qa=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},Ka=function(e,t){return e.filter((function(e){return-1!==t.indexOf(e)}))},Ua=function(e){var t=e.options,n=e.initial,a=e.setSelected,r=p.a.useState([]),o=Object(dt.a)(r,2),i=o[0],l=o[1],c=p.a.useState(t),u=Object(dt.a)(c,2),d=u[0],s=u[1],m=p.a.useState(n),b=Object(dt.a)(m,2),j=b[0],f=b[1],h=Ka(i,d),O=Ka(i,j),x=function(e){return function(){var t=i.indexOf(e),n=Object(Yt.a)(i);-1===t?n.push(e):n.splice(t,1),l(n)}},g=function(e){return Ka(i,e).length},C=function(e){return function(){var t,n;g(e)===e.length?l(Qa(i,e)):l((t=i,n=e,[].concat(Object(Yt.a)(t),Object(Yt.a)(Qa(n,t)))))}},v=function(e,t){return Object(F.jsxs)(Ea.a,{children:[Object(F.jsx)(Ba.a,{sx:{px:2,py:1,bgcolor:"#e6e6e6"},avatar:Object(F.jsx)(Ma.a,{onClick:C(t),checked:g(t)===t.length&&0!==t.length,indeterminate:g(t)!==t.length&&0!==g(t),disabled:0===t.length,inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(g(t),"/").concat(t.length," selected")}),Object(F.jsx)(nn.a,{}),Object(F.jsxs)(Ga.a,{sx:{width:500,height:750,bgcolor:"#f2f2f2",overflow:"auto"},dense:!1,component:"div",role:"list",children:[t.map((function(e){var t="transfer-list-all-item-".concat(e.id,"-label");return Object(F.jsxs)($a.a,{role:"listitem",button:!0,onClick:x(e),children:[Object(F.jsx)(za.a,{children:Object(F.jsx)(Ma.a,{checked:-1!==i.indexOf(e),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":t}})}),Object(F.jsx)(Ha.a,{id:t,primary:e.title})]},e.id)})),Object(F.jsx)($a.a,{})]})]})};return Object(F.jsxs)(Pt.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(F.jsx)(Pt.a,{item:!0,children:v("Choices",d)}),Object(F.jsx)(Pt.a,{item:!0,children:Object(F.jsxs)(Pt.a,{container:!0,direction:"column",alignItems:"center",children:[Object(F.jsx)(Wt.a,{sx:{my:5},onClick:function(){f(j.concat(h)),a(j.concat(h)),s(Qa(d,h)),l(Qa(i,h))},disabled:0===h.length,"aria-label":"move selected right",children:">"}),Object(F.jsx)(Wt.a,{sx:{my:5},onClick:function(){s(d.concat(O)),f(Qa(j,O)),a(Qa(j,O)),l(Qa(i,O))},disabled:0===O.length,"aria-label":"move selected left",children:"<"})]})}),Object(F.jsx)(Pt.a,{item:!0,children:v("Chosen",j)})]})},_a=function(e,t){return e.filter((function(e){return!t.find((function(t){return t.id===e.id}))}))},Ja=function(e){var t=e.current,n=e.hideModal,a=e.id,r=p.a.useState([]),o=Object(dt.a)(r,2),i=o[0],l=o[1],c=p.a.useState(t),u=Object(dt.a)(c,2),d=u[0],s=u[1],m=Object(ae.b)(Ce,{onCompleted:function(e){return l(_a(e.documents.nodes,t))}}).loading,b=Object(Xt.a)(hn,{refetchQueries:[{query:xe,variables:{orderId:Number(a)}}]}),j=Object(dt.a)(b,1)[0];return m?null:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(en.a,{children:Object(F.jsx)(Ua,{options:i,initial:t,setSelected:s})}),Object(F.jsxs)(an.a,{children:[Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:n,color:"info",sx:{borderRadius:0,border:1,height:"100%"},children:"close"}),Object(F.jsx)(Wt.a,{children:"button"}),Object(F.jsx)(Wt.a,{children:"button"}),Object(F.jsx)(Wt.a,{color:"submit",onClick:function(){var e=_a(d,t).map((function(e){return{orderheaderId:Number(a),documentId:e.id}})),r=_a(t,d).map((function(e){return{orderheaderId:Number(a),documentId:e.id}}));j({variables:{additions:e,deletions:r}}).then((function(){return n()}))},children:"submit"})]})]})},Ya=function(e){var t=e.rowData,n=t.filter((function(e){return e.global})),a=Object(v.f)().id,r=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:l,fullWidth:!0,maxWidth:"xl",open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsxs)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:["UPDATE GLOBAL DOCUMENTS FOR PROJECT : ",w().selectedOrder.projectTitle]}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:l,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(Ja,{hideModal:l,rowData:t,current:n,id:a})]})}),[t,n,a]),o=Object(dt.a)(r,2),i=o[0],l=o[1];return Object(F.jsx)(Wt.a,{onClick:i,startIcon:Object(F.jsx)(La.a,{}),color:"info",children:"update global documents"})},Za=function(e){var t=e.rowData;return Object(F.jsxs)(Pt.a,{container:!0,columnSpacing:2,mb:2,mt:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Ya,{rowData:t})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{disabled:!0,startIcon:Object(F.jsx)(At.a,{}),color:"update",children:"button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{disabled:!0,startIcon:Object(F.jsx)(At.a,{}),color:"update",children:"button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:!0,children:Object(F.jsx)(Wt.a,{disabled:!0,startIcon:Object(F.jsx)(At.a,{}),color:"update",children:"button"})})]})},Xa=function(){var e=Object(v.f)().id,t=p.a.useState([]),n=Object(dt.a)(t,2),a=n[0],r=n[1];return Object(ae.b)(xe,{variables:{orderId:Number(e)},fetchPolicy:"cache-and-network",onCompleted:function(e){return r(e.orderheaderDocuments.nodes.map((function(e){return e.document})))}}).loading?null:Object(F.jsxs)("div",{children:[Object(F.jsx)(Za,{rowData:a}),Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"grid-title",children:"Project Documents Listing"}),Object(F.jsx)(qa,{rowData:a})]})},er=function(){var e=Object(v.e)();return Object(F.jsxs)(Pt.a,{container:!0,columnSpacing:2,mb:2,mt:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{onClick:function(){return e("project-workbook")},color:"info",children:"print project workbook"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{color:"info",children:"button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{color:"info",children:"button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{color:"info",children:"button"})})]})},tr=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(er,{}),Object(F.jsx)("hr",{}),Object(F.jsx)(v.a,{})]})},nr=n(30),ar=nr.e.create({header:{flexDirection:"row",marginBottom:5,paddingBottom:2.5,justifyContent:"space-between",fontSize:6,borderBottom:1,borderStyle:"solid",textTransform:"uppercase",fontFamily:"Open Sans"}});nr.b.register({family:"Open Sans",src:"https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0e.ttf"});var rr=function(e){var t=e.children;return Object(F.jsx)(nr.g,{style:ar.header,fixed:!0,children:t})},or=nr.e.create({dataRow:{flexDirection:"row",justifyContent:"space-between",padding:10,textTransform:"uppercase",fontSize:15}}),ir=function(e){var t=e.title,n=e.value;return Object(F.jsxs)(nr.g,{style:or.dataRow,children:[Object(F.jsxs)(nr.f,{children:[t,":"]}),Object(F.jsx)(nr.f,{children:n})]})},lr=nr.e.create({container:{borderStyle:"solid",borderWidth:1,padding:10,backgroundColor:"#f2f2f2"}}),cr=function(e){var t=e.data;return Object(F.jsx)(nr.g,{style:lr.container,wrap:!1,children:Object.entries(t).map((function(e){var t=Object(dt.a)(e,2),n=t[0],a=t[1];return Object(F.jsx)(ir,{title:ct(n),value:a},n)}))})};var ur=function(e){var t=e.projectData.orderheaderWithValueById,n=t.projectTitle,a=t.orderNumber,r=t.statusDescription,o=t.area,i=t.workType,l=t.locationCount,c=t.itemCount,u=t.orderValueTotal,d=t.orderValueTotalVarn,s=t.averageItemValue,m=t.averageLocationValue,b={projectTitle:n,projectNumber:a,projectStatus:r,area:o,workType:i,projectOrderValue:Te(u),projectVariationsValue:Te(d),locationCount:l,averageLocationValue:Te(m),itemCount:c,averageItemValue:Te(s)};return Object(F.jsx)(cr,{data:b})},dr=nr.e.create({container:{flexDirection:"row",textTransform:"uppercase",justifyContent:"center",textDecoration:"underline",fontSize:12,padding:10,fontFamily:"Lato Bold"}});nr.b.register({family:"Open Sans",src:"https://fonts.gstatic.com/s/opensans/v17/mem8YaGs126MiZpBA-UFVZ0e.ttf"}),nr.b.register({family:"Lato",src:"https://fonts.gstatic.com/s/lato/v16/S6uyw4BMUTPHjx4wWw.ttf"}),nr.b.register({family:"Lato Italic",src:"https://fonts.gstatic.com/s/lato/v16/S6u8w4BMUTPHjxsAXC-v.ttf"}),nr.b.register({family:"Lato Bold",src:"https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPHA.ttf"});var sr,mr=function(e){var t=e.title;return Object(F.jsx)(nr.g,{style:dr.container,children:Object(F.jsx)(nr.f,{children:t})})},br=function(e){var t=e.children;return Object(F.jsx)(nr.g,{children:t})},jr=Ne.DateTime.now().toLocaleString(),pr=function(e){var t=e.projectData;return Object(F.jsxs)(nr.d,{size:"a4",orientation:"landscape",style:{padding:10},children:[Object(F.jsxs)(rr,{children:[Object(F.jsxs)(nr.f,{children:["Printed: ",jr.toLocaleString()]}),Object(F.jsx)(nr.f,{children:"Project Workbook Report"}),Object(F.jsx)(nr.f,{render:function(e){var t=e.pageNumber,n=e.totalPages;return"Page:".concat(t," / ").concat(n)}})]}),Object(F.jsxs)(br,{children:[Object(F.jsx)(mr,{title:"PROJECT SUMMARY INFO"}),Object(F.jsx)(ur,{projectData:t})]})]})},fr="#bfbfbf",hr="#22415e",Or="solid",xr=nr.e.create({container:{flexDirection:"row",justifyContent:"center"},tableColHeader:{borderStyle:Or,borderColor:fr,borderBottomColor:hr,borderWidth:1,backgroundColor:"#e6e6e6",fontSize:8,padding:5},tableCell:{fontSize:8,borderStyle:Or,borderColor:fr,borderBottomColor:hr,borderWidth:1,padding:5,paddingBottom:10,paddingTop:10,flexGrow:1},tableColumn:{flexDirection:"column",flexGrow:1,alignItems:"stretch"}}),gr=function(e){var t=e.data,n=Object.keys(t)[0];return Object(F.jsx)(p.a.Fragment,{children:Object(F.jsxs)(nr.g,{style:xr.tableColumn,children:[Object(F.jsx)(nr.f,{wrap:!1,fixed:!0,style:xr.tableColHeader,children:ct(n.toString())}),t[n].map((function(e,t){return Object(F.jsx)(nr.f,{wrap:!1,style:xr.tableCell,children:e},t)}))]})})},Cr=function(e){var t=e.data,n=Object.keys(t[0]).map((function(e){return Object(vn.a)({},e,t.map((function(t){return t[e]})))}));return Object(F.jsx)(nr.g,{style:xr.container,children:n.map((function(e,t){return Object(F.jsx)(gr,{data:e},t)}))})},vr="#bfbfbf",yr="#22415e",Ir="solid",Nr=nr.e.create({container:{flexDirection:"column",flexGrow:1,marginTop:25,position:"absolute",bottom:10,right:10,left:10},tableColHeader:{borderStyle:Ir,borderColor:vr,borderBottomColor:yr,borderWidth:1,backgroundColor:"#e6e6e6",fontSize:8,padding:5,flexGrow:1},tableCell:{fontSize:8,borderStyle:Ir,borderColor:vr,borderBottomColor:yr,borderWidth:1,padding:5,paddingBottom:10,paddingTop:10,flexGrow:2}}),Vr=function(){return Object(F.jsx)(nr.g,{style:Nr.container,children:Object(F.jsxs)(nr.g,{style:{flexDirection:"row"},children:[Object(F.jsx)(nr.f,{style:Nr.tableColHeader,children:"COMPLETED BY"}),Object(F.jsx)(nr.f,{style:Nr.tableCell}),Object(F.jsx)(nr.f,{style:Nr.tableColHeader,children:"DATE COMPLETE"}),Object(F.jsx)(nr.f,{style:Nr.tableCell}),Object(F.jsx)(nr.f,{style:Nr.tableColHeader,children:"NO OF PHOTOGRAPHS"}),Object(F.jsx)(nr.f,{style:Nr.tableCell})]})})},Dr=nr.e.create({container:{display:"flex",padding:10}}),wr=function(e){var t=e.projectData.sitelocationWithValues.nodes.map((function(e){var t=e.reference,n=e.worksheetReference,a=e.orderValue,r=e.itemCount,o=e.id;return{locationData:{worksheetReference:n,locationReference:t,locationValue:Te(a),itemCount:r},id:o,itemData:e.sitelocationById.orderdetailWithValues.nodes.map((function(e){return{itemNumber:e.itemNumber,activityDescription:e.activityDescription,activityCode:e.activityCode,qtyOrdered:Te(e.qtyOrdered),qtyOs:Te(e.qtyOs),qtyComplete:"",comments:""}}))}})),n=Ne.DateTime.now().toLocaleString();return t.map((function(e){return Object(F.jsxs)(nr.d,{size:"a4",orientation:"landscape",style:Dr.container,children:[Object(F.jsxs)(rr,{children:[Object(F.jsxs)(nr.f,{children:["Printed: ",n.toLocaleString()]}),Object(F.jsx)(nr.f,{children:"Project Workbook Report"}),Object(F.jsx)(nr.f,{render:function(e){var t=e.pageNumber,n=e.totalPages;return"Page:".concat(t," / ").concat(n)}})]}),Object(F.jsx)(mr,{title:"LOCATION SUMMARY INFO"}),Object(F.jsx)(cr,{data:e.locationData},e.id),Object(F.jsx)(mr,{title:"BILL ITEM DETAIL"}),Object(F.jsx)(Cr,{data:e.itemData}),Object(F.jsx)(Vr,{})]},e.id)}))},Tr=function(e){var t=e.projectData;return Object(F.jsxs)(nr.a,{children:[Object(F.jsx)(pr,{projectData:t}),Object(F.jsx)(wr,{projectData:t})]})},Sr=function(){var e=Object(v.f)().id,t=p.a.useState(),n=Object(dt.a)(t,2),a=n[0],r=n[1];return Object(ae.b)(ge,{variables:{orderId:Number(e)},fetchPolicy:"cache-and-network",onCompleted:function(e){return r(e.orderheader)}}).loading?null:Object(F.jsx)(nr.c,{width:"100%",height:1e3,children:Object(F.jsx)(Tr,{projectData:a})})},Ar=function(){return Object(v.h)([{path:"/",element:Object(F.jsx)(pa,{}),children:[{path:"locations",element:Object(F.jsx)(ra,{}),exact:!0},{path:"items",element:Object(F.jsx)(qt,{}),exact:!0},{path:"worksheets",element:Object(F.jsx)(ya,{}),exact:!0},{path:"locations/progress",element:Object(F.jsx)(Ca,{}),exact:!0},{path:"images",element:Object(F.jsx)(ut,{}),exact:!0},{path:"applications",element:Object(F.jsx)(Pa,{}),exact:!0},{path:"documents",element:Object(F.jsx)(Xa,{}),exact:!0},{path:"workbooks",element:Object(F.jsx)(tr,{}),exact:!0,children:[{path:"project-workbook",element:Object(F.jsx)(Sr,{}),exact:!0}]}]},{path:"items"},{path:"worksheets"}])},kr=n(352),Rr=function(){var e=p.a.useRef(),t=Object(v.d)(),n=p.a.useState(),r=Object(dt.a)(n,2),o=r[0],i=r[1];Object(ae.b)(Nn,{fetchPolicy:"cache-and-network",onCompleted:function(e){return i(e.orderheaderWithValues.nodes)}});var l=p.a.useState([{field:"orderNumber",headerName:"Project No",checkboxSelection:function(){return"/admin/projects"===t.pathname}},{field:"projectTitle",headerName:"Project Title",flex:2},{field:"area"},{field:"workType",flex:1.5},{headerName:"Order Val",valueGetter:function(e){return Number(e.data.orderValueTotal)},valueFormatter:Ve,type:"numericColumn",cellStyle:{fontWeight:"bold"},filter:"agNumberColumnFilter"},{headerName:"Done Val",valueGetter:function(e){return Number(e.data.orderValueTotalComplete)},valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter",cellStyle:{fontWeight:"bold"}},{headerName:"To Do Val",valueGetter:function(e){return e.data.orderValueTotal-e.data.orderValueTotalComplete},valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"% Complete",valueGetter:function(e){return 100*(t=e.data.orderValueTotalComplete,0===(n=e.data.orderValueTotal)||isNaN(n)?null:t/n);var t,n},type:"numericColumn",valueFormatter:De},{headerName:"Applied Val",field:"orderValueTotalApplied",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Locations",field:"locationCount",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Items",field:"itemCount",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Images",type:"numericColumn",valueFormatter:Ve,field:"imageCount",filter:"agNumberColumnFilter"},{headerName:"Docs",field:"documentCount",type:"numericColumn",valueFormatter:Ve,filter:"agNumberColumnFilter"},{colId:"selectButton",cellRenderer:kr.a,flex:1.5,cellRendererParams:function(e){return{path:"processing/".concat(e.data.id)}}}]),c=Object(dt.a)(l,2),u=c[0],d=c[1],s=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);p.a.useEffect((function(){"/admin/projects"===t.pathname&&d((function(e){return e.filter((function(e){return"selectButton"!==e.colId}))}))}),[t.pathname]);var m=p.a.useCallback((function(){var t=e.current.api.getSelectedRows();0===t.length?w(Object(a.a)(Object(a.a)({},w()),{},{selectedOrder:!1})):w(Object(a.a)(Object(a.a)({},w()),{},{selectedOrder:t}))}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:u,defaultColDef:s,rowData:o,rowSelection:"single",ref:e,domLayout:"autoHeight",enableCellChangeFlash:!0,pagination:!0,paginationPageSize:20,onSelectionChanged:m,suppressRowClickSelection:!0})},Pr=function(){return p.a.useEffect((function(){w(V)}),[]),Object(F.jsx)(Rr,{})},Wr=function(){var e=p.a.useRef();return Object(F.jsxs)("div",{ref:e,children:[Object(F.jsx)("h1",{children:"COMPONENT TESTING"}),Object(F.jsx)("hr",{}),Object(F.jsx)(Ua,{})]})},Fr=Object(le.d)(sr||(sr=Object(ie.a)(["\n\tquery GetDashboardData {\n\t\tareaWithValues(orderBy: ID_ASC) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t\torderCount\n\t\t\t\torderValue\n\t\t\t\tvalueComplete\n\t\t\t}\n\t\t}\n\t\tworkCompleteByAreaPeriodTables(orderBy: PERIOD_DESC, first: 10) {\n\t\t\tnodes {\n\t\t\t\tadmin\n\t\t\t\tcentral\n\t\t\t\tmisc\n\t\t\t\tnorth\n\t\t\t\tperiod\n\t\t\t\tsouth\n\t\t\t\ttest\n\t\t\t}\n\t\t}\n\t\tworkAppliedByAreaAndApplications(orderBy: APPLICATION_DESC, first: 10) {\n\t\t\tnodes {\n\t\t\t\tapplication\n\t\t\t\tnorth\n\t\t\t\tcentral\n\t\t\t\tsouth\n\t\t\t\tadmin\n\t\t\t\tmisc\n\t\t\t\ttest\n\t\t\t}\n\t\t}\n\t}\n"]))),qr=function(e){var t=e.rowData,n=p.a.useRef(),a=p.a.useMemo((function(){return[{field:"description",headerName:"Area"},{field:"orderCount",headerName:"Project Count"},{field:"orderValue",headerName:"Project Order Value",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"valueComplete",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{headerName:"Remaining Value",valueGetter:function(e){return e.data.orderValue-e.data.valueComplete},valueFormatter:function(e){return we(e.value)},type:"numericColumn",filter:"agNumberColumnFilter"}]}),[]),r=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:a,defaultColDef:r,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0,pinnedBottomRowData:[],ref:n,onGridReady:function(){n.current.api.setPinnedBottomRowData([{description:"TOTALS",orderCount:t.map((function(e){return Number(e.orderCount)})).reduce((function(e,t){return e+t})),orderValue:t.map((function(e){return Number(e.orderValue)})).reduce((function(e,t){return e+t})),valueComplete:t.map((function(e){return Number(e.valueComplete)})).reduce((function(e,t){return e+t})),remainingValue:t.map((function(e){return Number(e.orderValue)-Number(e.valueComplete)})).reduce((function(e,t){return e+t}))}])},getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})},Lr=n(149),Er=function(e){var t={data:e.rowData.map((function(e){return{area:e.description,valueOs:Number(e.orderValue)-Number(e.valueComplete),valueComplete:Number(e.valueComplete)}})),title:{text:"Order Values By Area"},series:[{type:"column",xKey:"area",yKey:"valueComplete",yName:"Value Complete",stacked:!0},{type:"column",xKey:"area",yKey:"valueOs",yName:"Value Remaining",stacked:!0}],axes:[{type:"category",position:"bottom",title:{text:"Areas",enabled:!0}},{type:"number",position:"left",title:{text:"Project Value (\xa3)",enabled:!0},label:{format:"n"}}],theme:"ag-pastel"};return Object(F.jsx)(Lr.AgChartsReact,{options:t})},Br=function(e){var t=e.rowData,n=p.a.useRef(),a={data:t,title:{text:"Work Complete By Period"},series:[{type:"column",xKey:"period",yKey:"north",yName:"North",stacked:!0},{type:"column",xKey:"period",yKey:"central",yName:"Central",stacked:!0},{type:"column",xKey:"period",yKey:"south",yName:"South",stacked:!0},{type:"column",xKey:"period",yKey:"admin",yName:"Admin",stacked:!0},{type:"column",xKey:"period",yKey:"misc",yName:"Misc",stacked:!0},{type:"column",xKey:"period",yKey:"test",yName:"Test",stacked:!0}],axes:[{type:"category",position:"bottom",title:{text:"Period",enabled:!0}},{type:"number",position:"left",title:{text:"Value Complete (\xa3)",enabled:!0},label:{format:"n"}}],theme:"ag-pastel",legend:{position:"right"}};return Object(F.jsx)(Lr.AgChartsReact,{options:a,ref:n})},Mr=function(e){var t=e.rowData,n=p.a.useRef(),a=p.a.useMemo((function(){return[{field:"period",sort:"desc"},{field:"north",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"central",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"south",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"admin",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"misc",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"test",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"total",headerName:"Total",valueGetter:function(e){var t=e.data;return[t.north,t.south,t.central,t.admin,t.test,t.misc].reduce((function(e,t){return e+t}))},type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}}]}),[]),r=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:a,defaultColDef:r,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0,pinnedBottomRowData:[],ref:n,onGridReady:function(){n.current.api.setPinnedBottomRowData([{period:"TOTALS",north:t.map((function(e){return Number(e.north)})).reduce((function(e,t){return e+t})),central:t.map((function(e){return Number(e.central)})).reduce((function(e,t){return e+t})),south:t.map((function(e){return Number(e.south)})).reduce((function(e,t){return e+t})),admin:t.map((function(e){return Number(e.admin)})).reduce((function(e,t){return e+t})),misc:t.map((function(e){return Number(e.misc)})).reduce((function(e,t){return e+t})),test:t.map((function(e){return Number(e.test)})).reduce((function(e,t){return e+t}))}])},getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})},Gr=function(e){var t=e.rowData,n=p.a.useRef(),a=p.a.useMemo((function(){return[{field:"application",sort:"desc"},{field:"north",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"central",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"south",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"admin",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"misc",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"test",type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}},{field:"total",headerName:"Total",valueGetter:function(e){var t=e.data;return[t.north,t.south,t.central,t.admin,t.test,t.misc].reduce((function(e,t){return e+t}))},type:"numericColumn",filter:"agNumberColumnFilter",valueFormatter:function(e){return we(e.value)}}]}),[]),r=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:a,defaultColDef:r,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0,pinnedBottomRowData:[],ref:n,onGridReady:function(){n.current.api.setPinnedBottomRowData([{application:"TOTALS",north:t.map((function(e){return Number(e.north)})).reduce((function(e,t){return e+t})),central:t.map((function(e){return Number(e.central)})).reduce((function(e,t){return e+t})),south:t.map((function(e){return Number(e.south)})).reduce((function(e,t){return e+t})),admin:t.map((function(e){return Number(e.admin)})).reduce((function(e,t){return e+t})),misc:t.map((function(e){return Number(e.misc)})).reduce((function(e,t){return e+t})),test:t.map((function(e){return Number(e.test)})).reduce((function(e,t){return e+t}))}])},getRowStyle:function(e){if(e.node.rowPinned)return{fontWeight:"bold"}}})},$r=function(e){var t=e.rowData,n=p.a.useRef(),a={data:t,title:{text:"Application Values"},series:[{type:"column",xKey:"application",yKey:"north",yName:"North",stacked:!0},{type:"column",xKey:"application",yKey:"central",yName:"Central",stacked:!0},{type:"column",xKey:"application",yKey:"south",yName:"South",stacked:!0},{type:"column",xKey:"application",yKey:"admin",yName:"Admin",stacked:!0},{type:"column",xKey:"application",yKey:"misc",yName:"Misc",stacked:!0},{type:"column",xKey:"application",yKey:"test",yName:"Test",stacked:!0}],axes:[{type:"category",position:"bottom",title:{text:"Application",enabled:!0}},{type:"number",position:"left",title:{text:"Value Applied (\xa3)",enabled:!0},label:{format:"n"}}],theme:"ag-pastel",legend:{position:"right"}};return Object(F.jsx)(Lr.AgChartsReact,{options:a,ref:n})};var zr=function(){var e=p.a.useState({}),t=Object(dt.a)(e,2),n=t[0],a=t[1],r=Object(ae.b)(Fr,{fetchPolicy:"cache-and-network",onCompleted:function(e){a({areas:e.areaWithValues.nodes,periodAreas:e.workCompleteByAreaPeriodTables.nodes.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(dt.a)(e,2),n=t[0],a=t[1];return[n,Number(a)]})))})),applicationAreas:e.workAppliedByAreaAndApplications.nodes.map((function(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(dt.a)(e,2),n=t[0],a=t[1];return[n,Number(a)]})))}))})}}),o=r.loading,i=r.error;return o?null:(i&&console.log(i),Object(F.jsxs)(Pt.a,{container:!0,columns:2,spacing:3,children:[Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)("div",{className:"section-title",children:"area values"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsxs)("div",{style:{backgroundColor:"white"},children:[Object(F.jsx)("div",{className:"small-grid-title",children:"Area Values Grid"}),Object(F.jsx)(qr,{rowData:n.areas})]})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Er,{rowData:n.areas})}),Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)("div",{className:"section-title",children:"period values"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsxs)("div",{style:{backgroundColor:"white"},children:[Object(F.jsx)("div",{className:"small-grid-title",children:"Period Values Grid"}),Object(F.jsx)(Mr,{rowData:n.periodAreas})]})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Br,{rowData:n.periodAreas})}),Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)("div",{className:"section-title",children:"application values"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsxs)("div",{style:{backgroundColor:"white"},children:[Object(F.jsx)("div",{className:"small-grid-title",children:"Application Values Grid"}),Object(F.jsx)(Gr,{rowData:n.applicationAreas})]})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)($r,{rowData:n.applicationAreas})})]}))},Hr=["ref","onChange"],Qr=["ref","onChange"],Kr=["ref","onChange"],Ur=Ne.DateTime.now().toISODate(),_r=function(e){var t,n,r,o,i,l,c,u,d=Object(Zt.a)(),s=p.a.useState([]),m=Object(dt.a)(s,2),b=m[0],j=m[1],f=p.a.useState(!1),h=Object(dt.a)(f,2),O=h[0],x=h[1],g=p.a.useState([]),C=Object(dt.a)(g,2),v=C[0],y=C[1],I=p.a.useState(!1),N=Object(dt.a)(I,2),V=N[0],D=N[1],w=p.a.useState(!1),T=Object(dt.a)(w,2),S=T[0],A=T[1],k=p.a.useState([]),R=Object(dt.a)(k,2),P=R[0],W=R[1],q=d.readQuery({query:Vn}).orderheaderWithValues,L=gn.d().shape({orderNumber:gn.e().required("Project Must Have a Number").length(7,"Project Number Must Be 7 Characters").notOneOf(null===q||void 0===q?void 0:q.nodes.map((function(e){return e.orderNumber})),"Project Number Already Exists!"),projectTitle:gn.e().required("Project Must Have a Title"),areaId:gn.c().required("Area is Required"),worktypeId:gn.c().required("Work Type is Required"),orderStatusId:gn.c().required("Status is Required"),startDate:gn.b().required(),endDate:gn.b().required(),issuedDate:gn.b().required()}),E=Object(kn.a)(ce,{onCompleted:function(e){return j(e.areas.nodes)},fetchPolicy:"cache-and-network"}),B=Object(dt.a)(E,2),M=B[0],G=B[1].loading,$=Object(kn.a)(ue,{onCompleted:function(e){return y(e.worktypes.nodes)},fetchPolicy:"cache-and-network"}),z=Object(dt.a)($,2),H=z[0],Q=z[1].loading,K=Object(kn.a)(de,{onCompleted:function(e){return W(e.orderheaderStatuses.nodes)},fetchPolicy:"cache-and-network"}),U=Object(dt.a)(K,2),_=U[0],J=U[1].loading,Y=Object(Xt.a)(on,{refetchQueries:[{query:Nn}],awaitRefetchQueries:!0,onCompleted:function(){return e.hideModal()}}),Z=Object(dt.a)(Y,1)[0],X=In(L),ee=Object(rn.c)({mode:"onSubmit",resolver:X}),te=ee.handleSubmit,ne=ee.control,ae=ee.register,re=ee.reset,oe=ee.setFocus,ie=ee.formState.errors;return p.a.useEffect((function(){O&&0===b.length&&M().then((function(e){return console.log(e)}))}),[O,b.length,M]),p.a.useEffect((function(){V&&0===v.length&&H()}),[H,v.length,V]),p.a.useEffect((function(){S&&0===P.length&&_()}),[_,S,P.length]),p.a.useEffect((function(){return oe("orderNumber")}),[oe]),Object(F.jsx)("form",{onSubmit:te((function(e){Z({variables:{input:e}})})),children:Object(F.jsxs)(Pt.a,{container:!0,spacing:2,children:[Object(F.jsxs)(Pt.a,{item:!0,xs:6,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},ae("orderNumber")),{},{label:"Project Number",variant:"filled",fullWidth:!0})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(t=ie.orderNumber)||void 0===t?void 0:t.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:6,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},ae("projectTitle")),{},{label:"Project Title",variant:"filled",fullWidth:!0})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(n=ie.projectTitle)||void 0===n?void 0:n.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:ne,name:"areaId",render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,Hr);return Object(F.jsx)(Pn.a,{options:b,loading:G,disableClearable:!0,fullWidth:!0,getOptionLabel:function(e){return e.description},onChange:function(e,t){return n(t.id)},open:O,onOpen:function(){x(!0)},onClose:function(){x(!1)},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Area"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(r=ie.areaId)||void 0===r?void 0:r.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:ne,name:"worktypeId",render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,Qr);return Object(F.jsx)(Pn.a,{options:v,loading:Q,disableClearable:!0,openOnFocus:!0,fullWidth:!0,getOptionLabel:function(e){return e.description},onChange:function(e,t){return n(t.id)},open:V,onOpen:function(){D(!0)},onClose:function(){D(!1)},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Work Type"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(o=ie.worktypeId)||void 0===o?void 0:o.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:ne,name:"orderStatusId",render:function(e){var t=e.field,n=(t.ref,t.onChange),r=Object(Rn.a)(t,Kr);return Object(F.jsx)(Pn.a,{options:P,openOnFocus:!0,disableClearable:!0,loading:J,fullWidth:!0,getOptionLabel:function(e){return e.statusDescription},onChange:function(e,t){return n(t.id)},open:S,onOpen:function(){A(!0)},onClose:function(){A(!1)},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),r),{},{variant:"filled",label:"Order Status"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(i=ie.orderStatusId)||void 0===i?void 0:i.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},ae("startDate")),{},{label:"Start Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0},defaultValue:Ur})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(l=ie.startDate)||void 0===l?void 0:l.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},ae("endDate")),{},{label:"End Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0},defaultValue:Ur})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(c=ie.endDate)||void 0===c?void 0:c.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},ae("issuedDate")),{},{label:"Issued Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0},defaultValue:Ur})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(u=ie.issuedDate)||void 0===u?void 0:u.message})]}),Object(F.jsx)(Pt.a,{item:!0,xs:12,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},ae("notes")),{},{label:"Notes",multiline:!0,variant:"filled",fullWidth:!0,maxRows:4}))}),Object(F.jsx)(Pt.a,{item:!0,xs:6,mt:2,mb:2,children:Object(F.jsx)(Wt.a,{color:"cancel",onClick:function(){return re()},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:6,mt:2,mb:2,children:Object(F.jsx)(Wt.a,{color:"submit",type:"submit",children:"submit"})})]})})},Jr=function(){var e=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:a,maxWidth:"xl",fullWidth:!0,open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(_t.a,{flexGrow:1,children:"CREATE PROJECT HEADER"}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:a,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(en.a,{children:Object(F.jsx)(_r,{hideModal:a})})]})})),t=Object(dt.a)(e,2),n=t[0],a=t[1],r=!1===Object(Gt.a)(w).selectedOrder;return Object(F.jsx)(Wt.a,{color:"create",onClick:n,disabled:!r,startIcon:Object(F.jsx)(Dt.a,{}),children:"create project header"})},Yr=function(){var e,t=Object(b.b)(),n=Object(Gt.a)(w).selectedOrder,a=Object(Xt.a)(cn,{variables:{id:null===(e=n[0])||void 0===e?void 0:e.id},refetchQueries:[{query:Nn}],awaitRefetchQueries:!0}),r=Object(dt.a)(a,1)[0];return Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:function(){t({description:"Delete Project Number ".concat(n[0].orderNumber," ?")}).then((function(){r().then((function(e){return console.log(e)}))})).catch((function(){return console.log("Deletion cancelled.")}))},color:"delete",disabled:!1===n,startIcon:Object(F.jsx)(Tt.a,{}),children:"delete project header"})},Zr=["ref","onChange"],Xr=["ref","onChange"],eo=["ref","onChange"],to=function(e){var t,n,r,o,i,l,c,u,d,s,m,b,j=p.a.useState([{id:e.selectedProject[0].areaId,description:e.selectedProject[0].area}]),f=Object(dt.a)(j,2),h=f[0],O=f[1],x=p.a.useState(!1),g=Object(dt.a)(x,2),C=g[0],v=g[1],y=p.a.useState([{id:null===(t=e.selectedProject[0])||void 0===t?void 0:t.worktypeId,description:null===(n=e.selectedProject[0])||void 0===n?void 0:n.workType}]),I=Object(dt.a)(y,2),N=I[0],V=I[1],D=p.a.useState(!1),w=Object(dt.a)(D,2),T=w[0],S=w[1],A=p.a.useState(!1),k=Object(dt.a)(A,2),R=k[0],P=k[1],W=p.a.useState([{id:null===(r=e.selectedProject[0])||void 0===r?void 0:r.orderStatusId,statusDescription:null===(o=e.selectedProject[0])||void 0===o?void 0:o.statusDescription}]),q=Object(dt.a)(W,2),L=q[0],E=q[1],B=gn.d().shape({projectTitle:gn.e().required("Project Must Have a Title"),areaId:gn.c().required("Area is Required"),worktypeId:gn.c().required("Work Type is Required"),orderStatusId:gn.c().required("Status is Required")}),M=Object(kn.a)(ce,{onCompleted:function(e){return O(e.areas.nodes)},fetchPolicy:"cache-and-network"}),G=Object(dt.a)(M,2),$=G[0],z=G[1].loading,H=Object(kn.a)(ue,{onCompleted:function(e){return V(e.worktypes.nodes)},fetchPolicy:"cache-and-network"}),Q=Object(dt.a)(H,2),K=Q[0],U=Q[1].loading,_=Object(kn.a)(de,{onCompleted:function(e){return E(e.orderheaderStatuses.nodes)},fetchPolicy:"cache-and-network"}),J=Object(dt.a)(_,2),Y=J[0],Z=J[1].loading,X=Object(Xt.a)(ln,{refetchQueries:[{query:Nn}],awaitRefetchQueries:!0,onCompleted:function(){return e.hideModal()}}),ee=Object(dt.a)(X,1)[0],te=In(B),ne=Object(rn.c)({mode:"onSubmit",resolver:te,defaultValues:{orderNumber:e.selectedProject[0].orderNumber,projectTitle:e.selectedProject[0].projectTitle,notes:e.selectedProject[0].notes,startDate:e.selectedProject[0].startDate,endDate:e.selectedProject[0].endDate,issuedDate:e.selectedProject[0].issuedDate,areaId:e.selectedProject[0].areaId,worktypeId:e.selectedProject[0].worktypeId,orderStatusId:e.selectedProject[0].orderStatusId}}),ae=ne.handleSubmit,re=ne.control,oe=ne.register,ie=ne.reset,le=ne.formState.errors;return p.a.useEffect((function(){C&&1===h.length&&$().then((function(e){return console.log(e)}))}),[C,h.length,$]),p.a.useEffect((function(){T&&1===N.length&&K()}),[K,N.length,T]),p.a.useEffect((function(){R&&1===L.length&&Y()}),[Y,R,L.length]),Object(F.jsx)("form",{onSubmit:ae((function(t){console.log(t),ee({variables:{patch:t,id:e.selectedProject[0].id}})})),children:Object(F.jsxs)(Pt.a,{container:!0,spacing:2,children:[Object(F.jsxs)(Pt.a,{item:!0,xs:6,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},oe("orderNumber")),{},{label:"Project Number",variant:"filled",fullWidth:!0,disabled:!0})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(i=le.orderNumber)||void 0===i?void 0:i.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:6,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},oe("projectTitle")),{},{label:"Project Title",variant:"filled",fullWidth:!0})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(l=le.projectTitle)||void 0===l?void 0:l.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:re,name:"areaId",render:function(t){var n,r,o=t.field,i=o.ref,l=o.onChange,c=Object(Rn.a)(o,Zr);return Object(F.jsx)(Pn.a,{options:h,loading:z,fullWidth:!0,getOptionLabel:function(e){return e.description},onChange:function(e,t){return l(t.id)},isOptionEqualToValue:function(e,t){return e.description===t.description},open:C,onOpen:function(){v(!0)},onClose:function(){v(!1)},defaultValue:{id:null===(n=e.selectedProject[0])||void 0===n?void 0:n.areaId,description:null===(r=e.selectedProject[0])||void 0===r?void 0:r.area},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),c),{},{fullWidth:!0,inputRef:i,variant:"filled",label:"Area"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(c=le.areaId)||void 0===c?void 0:c.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:re,name:"worktypeId",render:function(t){var n,r,o=t.field,i=o.ref,l=o.onChange,c=Object(Rn.a)(o,Xr);return Object(F.jsx)(Pn.a,{options:N,loading:U,openOnFocus:!0,fullWidth:!0,getOptionLabel:function(e){return e.description},onChange:function(e,t){return l(t.id)},open:T,onOpen:function(){S(!0)},onClose:function(){S(!1)},defaultValue:{id:null===(n=e.selectedProject[0])||void 0===n?void 0:n.worktypeId,description:null===(r=e.selectedProject[0])||void 0===r?void 0:r.workType},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),c),{},{fullWidth:!0,inputRef:i,variant:"filled",label:"Work Type"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(u=le.worktypeId)||void 0===u?void 0:u.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(rn.a,{control:re,name:"orderStatusId",render:function(t){var n,r,o=t.field,i=o.ref,l=o.onChange,c=Object(Rn.a)(o,eo);return Object(F.jsx)(Pn.a,{options:L,openOnFocus:!0,loading:Z,fullWidth:!0,getOptionLabel:function(e){return e.statusDescription},onChange:function(e,t){return l(t.id)},open:R,onOpen:function(){P(!0)},onClose:function(){P(!1)},defaultValue:{id:null===(n=e.selectedProject[0])||void 0===n?void 0:n.orderStatusId,statusDescription:null===(r=e.selectedProject[0])||void 0===r?void 0:r.statusDescription},renderInput:function(e){return Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)(Object(a.a)({},e),c),{},{fullWidth:!0,inputRef:i,variant:"filled",label:"Order Status"}))}})}}),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(d=le.orderStatusId)||void 0===d?void 0:d.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},oe("startDate")),{},{label:"Start Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0}})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(s=le.startDate)||void 0===s?void 0:s.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},oe("endDate")),{},{label:"End Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0}})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(m=le.endDate)||void 0===m?void 0:m.message})]}),Object(F.jsxs)(Pt.a,{item:!0,xs:4,children:[Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({type:"date"},oe("issuedDate")),{},{label:"Issued Date",variant:"filled",fullWidth:!0,InputLabelProps:{shrink:!0}})),Object(F.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:null===(b=le.issuedDate)||void 0===b?void 0:b.message})]}),Object(F.jsx)(Pt.a,{item:!0,xs:12,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({},oe("notes")),{},{label:"Notes",multiline:!0,variant:"filled",fullWidth:!0,maxRows:5,minRows:5}))}),Object(F.jsx)(Pt.a,{item:!0,xs:6,mt:2,mb:2,children:Object(F.jsx)(Wt.a,{color:"cancel",onClick:function(){return ie()},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:6,mt:2,mb:2,children:Object(F.jsx)(Wt.a,{color:"submit",type:"submit",children:"submit"})})]})})},no=function(){var e=Object(Gt.a)(w).selectedOrder,t=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:r,maxWidth:"lg",open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",children:[Object(F.jsx)(_t.a,{flexGrow:1,children:"EDIT PROJECT HEADER"}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:r,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(en.a,{children:Object(F.jsx)(to,{hideModal:r,selectedProject:e})})]})}),[e]),n=Object(dt.a)(t,2),a=n[0],r=n[1];return Object(F.jsx)(Wt.a,{color:"update",onClick:a,disabled:!1===e,startIcon:Object(F.jsx)(At.a,{}),children:"edit project header"})},ao=function(){var e=Object(v.e)(),t=Object(Gt.a)(w).selectedOrder;return Object(F.jsxs)(Pt.a,{container:!0,spacing:2,mb:2,children:[Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Jr,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(no,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Yr,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Wt.a,{disabled:!1===t,startIcon:Object(F.jsx)(Rt.a,{}),onClick:function(){return e("import")},children:"import project detail"})})]})},ro=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(ao,{}),Object(F.jsx)(Pr,{}),Object(F.jsx)(v.a,{})]})},oo=function(e){var t=e.hideModal,n=Object(b.b)(),r=Object(rn.c)({defaultValues:{document:[{title:"",headerDocumentFile:""}]}}),o=r.register,i=r.handleSubmit,l=r.control,c=r.reset,u=r.setFocus,d=(r.getValues,Object(rn.b)({control:l,name:"document"})),s=d.fields,m=d.append,j=d.remove,f=Object(Xt.a)(pn,{refetchQueries:[{query:Ce}],awaitRefetchQueries:!0,onCompleted:function(){return t()}}),h=Object(dt.a)(f,1)[0];return p.a.useEffect((function(){u("document[0].title")}),[u]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(en.a,{children:Object(F.jsx)("form",{children:Object(F.jsx)(Pt.a,{container:!0,columnSpacing:2,rowSpacing:3,columns:4,children:s.map((function(e,t){return Object(F.jsxs)(p.a.Fragment,{children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(tn.a,Object(a.a)(Object(a.a)({label:"Document Title"},o("document.".concat(t,".title"))),{},{variant:"filled",fullWidth:!0}))}),Object(F.jsx)(Pt.a,{item:!0,xs:2,children:Object(F.jsx)(tn.a,Object(a.a)({fullWidth:!0,variant:"filled",accept:"pdf/*",type:"file",sx:{height:"100%"}},o("document.".concat(t,".headerDocumentFile"))))}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"delete",onClick:function(){return j(t)},sx:{borderRadius:0,border:1,height:"100%"},children:"remove"})})]},e.id)}))})})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(an.a,{children:Object(F.jsxs)(Pt.a,{container:!0,p:2,spacing:2,columns:4,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:t,color:"secondary",sx:{borderRadius:0,border:1,height:"100%"},children:"close"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"info",onClick:function(){return c()},sx:{borderRadius:0,border:1,height:"100%"},children:"reset"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{sx:{height:"100%",borderRadius:0,border:1},color:"create",fullWidth:!0,startIcon:Object(F.jsx)(Dt.a,{}),onClick:function(){return m(void 0,void 0)},children:"add another"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{fullWidth:!0,color:"submit",onClick:i((function(e){var t=e.document;console.log(e,t),n({title:"Confirm Data Submission",titleProps:{color:"red",fontWeight:"bold"},content:"Submission Contains ".concat(t.length," Item(s)"),confirmationText:"Confirm",cancellationButtonProps:{color:"secondary"},allowClose:!1,contentProps:{fontWeight:"bold"}}).then((function(){return function(e){return e.map((function(e){return{title:e.title,global:!0,headerDocumentFile:e.headerDocumentFile[0]}}))}(t)})).then((function(e){return h({variables:{input:e}})}))})),sx:{borderRadius:0,border:1,height:"100%"},children:"submit"})})]})})]})},io=function(){var e=Object(g.b)((function(){return Object(F.jsxs)(Kt.a,{onClose:function(e,t){"backdropClick"===t?console.log(t):a()},fullWidth:!0,maxWidth:"xl",open:!0,children:[Object(F.jsx)(Ut.a,{id:"id",children:Object(F.jsxs)(_t.a,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[Object(F.jsx)(_t.a,{flexGrow:1,sx:{textTransform:"uppercase",fontWeight:"bold"},children:"UPLOAD GLOBAL DOCUMENT"}),Object(F.jsx)(_t.a,{children:Object(F.jsx)(Jt.a,{onClick:a,children:Object(F.jsx)(Qt.a,{})})})]})}),Object(F.jsx)(nn.a,{}),Object(F.jsx)(oo,{hideModal:a})]})}),[]),t=Object(dt.a)(e,2),n=t[0],a=t[1];return Object(F.jsx)(Wt.a,{onClick:n,color:"create",startIcon:Object(F.jsx)(Rt.a,{}),children:"upload global document(s)"})},lo=function(){var e=Object(b.b)(),t=Object(Gt.a)(w).selectedDocument,n=Object(Xt.a)(fn,{refetchQueries:[{query:Ce}],awaitRefetchQueries:!0}),a=Object(dt.a)(n,1)[0];return Object(F.jsx)(Wt.a,{fullWidth:!0,onClick:function(){e({title:"Confirm Document Deletion",titleProps:{color:"red",fontWeight:"bold"},content:"Submission Contains ".concat(w().selectedDocument.length," Item(s)"),confirmationText:"Confirm",cancellationButtonProps:{color:"secondary"},allowClose:!1,contentProps:{fontWeight:"bold"}}).then((function(){return a({variables:{input:t.map((function(e){return{id:e.id}}))}})})).catch(console.error)},color:"delete",disabled:!1===t,startIcon:Object(F.jsx)(Tt.a,{}),children:"delete document(s)"})},co=function(){return Object(F.jsxs)(Pt.a,{container:!0,spacing:2,mb:2,children:[Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(io,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Wt.a,{disabled:!0,children:"button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(lo,{})}),Object(F.jsx)(Pt.a,{item:!0,xs:3,children:Object(F.jsx)(Wt.a,{disabled:!0,children:"button"})})]})};var uo,so,mo,bo,jo=function(){var e=p.a.useState(),t=Object(dt.a)(e,2),n=t[0],r=t[1],o=p.a.useRef(),i=Object(ae.b)(Ce,{fetchPolicy:"cache-and-network",onCompleted:function(e){return r(e.documents.nodes)}}).loading,l=p.a.useMemo((function(){return[{field:"title",checkboxSelection:function(e){return"0"===e.data.orderheaderDocuments.aggregates.distinctCount.orderheaderId}},{field:"createdAt",filter:"agDateColumnFilter",valueFormatter:function(e){return Se(e.value)}},{field:"orderheaderDocuments.aggregates.distinctCount.orderheaderId",headerName:"Projects Included"},{colId:"hyperLink",headerName:"Open Document",cellRenderer:Fa,cellStyle:{fontWeight:"bold"}}]}),[]),c=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),u=p.a.useCallback((function(){var e=o.current.api.getSelectedRows();0===e.length?w(Object(a.a)(Object(a.a)({},w()),{},{selectedDocument:!1})):w(Object(a.a)(Object(a.a)({},w()),{},{selectedDocument:e}))}),[]);return i?null:Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:l,defaultColDef:c,rowData:n,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0,onSelectionChanged:u,ref:o,rowSelection:"multiple"})},po=function(){return Object(F.jsxs)("div",{children:[Object(F.jsx)(co,{}),Object(F.jsx)(jo,{})]})},fo=n(121),ho=function(e){var t=e.importData,n=p.a.useMemo((function(){return[{field:"reference"},{field:"itemNumber",type:"numericColumn",filter:"agNumberColumnFilter"},{field:"qtyOrdered",type:"numericColumn",filter:"agNumberColumnFilter"},{field:"itemTypeId",type:"numericColumn",filter:"agNumberColumnFilter"},{field:"ratesetId",type:"numericColumn",filter:"agNumberColumnFilter"},{field:"packNumber"},{field:"valueBaseMaterials",type:"numericColumn",filter:"agNumberColumnFilter"},{field:"activityCode"}]})),a=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1,editable:!0}}),[]);return t?Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:n,defaultColDef:a,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,singleClickEdit:!0,editType:"fullRow"}):null},Oo=function(){var e=p.a.useState(null),t=Object(dt.a)(e,2),n=t[0],r=t[1],o=p.a.useState(null),i=Object(dt.a)(o,2),l=i[0],c=i[1],u=p.a.useState(null),d=Object(dt.a)(u,2),s=d[0],m=d[1],b=p.a.useState(null),j=Object(dt.a)(b,2),f=j[0],h=j[1],O=p.a.useState(!1),x=Object(dt.a)(O,2),g=x[0],C=x[1],y=Object(v.e)(),I=Object(kn.a)(wn,{fetchPolicy:"network-only",onCompleted:function(e){return e.validateProjectImportData.isDataValid&&C(!0)}}),N=Object(dt.a)(I,1)[0],V=Object(Xt.a)(xn,{onCompleted:function(){return y("/admin/projects")}}),D=Object(dt.a)(V,1)[0];return Object(F.jsxs)(_t.a,{children:[Object(F.jsxs)(_t.a,{pt:5,pb:5,children:[Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"grid-title",children:"IMPORT PROJECT DETAIL"}),Object(F.jsxs)(_t.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:10,children:[Object(F.jsx)(tn.a,{variant:"filled",accept:"xlsx",type:"file",fullWidth:!0,onChange:function(e){!function(e){var t=e.target.files;if(t.length){var n=t[0],o=new FileReader;o.onload=function(e){var t=Object(fo.a)(e.target.result),n=t.SheetNames;if(n.length){var o=fo.b.sheet_to_json(t.Sheets[n[0]]);c(Object(Yt.a)(new Set(o.map((function(e){return e.reference}))))),m(o.map((function(e){return e.itemNumber}))),h(Object(Yt.a)(new Set(o.map((function(e){return e.activityCode}))))),r(o.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{packNumber:e.packNumber.toString(),orderheaderId:Number(w().selectedOrder[0].id)})})))}},o.readAsArrayBuffer(n)}}(e)}}),Object(F.jsx)(Wt.a,{disabled:null===n||g,fullWidth:!0,onClick:function(){N({variables:{importData:{references:l,items:s,codes:f,rawData:n},orderId:Number(w().selectedOrder[0].id)}}).then((function(e){return console.log(e)}))},children:"Validate Data"}),Object(F.jsx)(Wt.a,{disabled:!1===g,fullWidth:!0,onClick:function(){D({variables:{importData:n,orderId:Number(w().selectedOrder[0].id)}}).then((function(){return r(null)}))},color:"create",children:"submit Data"})]})]}),Object(F.jsx)(ho,{importData:n})]})},xo=n(395),go=n.n(xo),Co=Object(le.d)(uo||(uo=Object(ie.a)(["\n    mutation OpenClosedApplication($appToOpen:Int!) {\n        openClosedApplication(input: {appToOpen: $appToOpen}) {\n            applicationSummaryWithCumulativeValues {\n                id\n                applicationNumber\n                applicationReference\n                applicationDate\n                applicationCurrent\n                applicationOpen\n                applicationSubmitted\n                prevCumulativeApplicationValue\n                thisApplicationValue\n                cumulativeApplicationValue\n                itemCount\n                locationCount\n                imageCount\n                orderCount\n                areaCount\n            }\n        }\n    }\n"]))),vo=Object(le.d)(so||(so=Object(ie.a)(["\n    mutation AutoIncrementApplication {\n        autoCloseCurrentApplication(input: {}) {\n            applicationSummaryWithCumulativeValues {\n                id\n                applicationNumber\n                applicationReference\n                applicationDate\n                applicationCurrent\n                applicationOpen\n                applicationSubmitted\n                prevCumulativeApplicationValue\n                thisApplicationValue\n                cumulativeApplicationValue\n                itemCount\n                locationCount\n                imageCount\n                orderCount\n                areaCount\n            }\n        }\n    }\n"]))),yo=(Object(le.d)(mo||(mo=Object(ie.a)(["\n    mutation RemoveApplicationSubmissionFlag($id: Int!) {\n        updateApplication(\n            input: { patch: { applicationSubmitted: false }, id: $id }\n        ) {\n            clientMutationId\n        }\n    }\n"]))),Object(le.d)(bo||(bo=Object(ie.a)(["\n    mutation SubmitApplication($appNumber:Int!) {\n        submitApplication(input: {appNumber: $appNumber}) {\n            applicationSummaryWithCumulativeValues {\n                id\n                applicationNumber\n                applicationReference\n                applicationDate\n                applicationCurrent\n                applicationOpen\n                applicationSubmitted\n                prevCumulativeApplicationValue\n                thisApplicationValue\n                cumulativeApplicationValue\n                itemCount\n                locationCount\n                imageCount\n                orderCount\n                areaCount\n            }\n            query {\n                submittedApplicationByApplicationId(applicationId: $appNumber) {\n                    applicationHeader\n                    applicationId\n                    areas\n                    id\n                    images\n                    orderdetails\n                    orderheaders\n                    otherInfo\n                    sitelocations\n                    worksheets\n                }\n            }\n        }\n    }\n\n"]))));function Io(e){return!0===e.applicationCurrent}var No=function(e){var t,n=e.rowData,r=e.setRowData,o=Object(b.b)(),i=Object(Xt.a)(vo,{fetchPolicy:"network-only",onCompleted:function(e){r(e.autoCloseCurrentApplication.applicationSummaryWithCumulativeValues),w(Object(a.a)(Object(a.a)({},w()),{},{selectedApplication:!1}))}}),l=Object(dt.a)(i,1)[0],c=!(null===n||void 0===n||!n.find((function(e){return Io(e)})))&&(null===n||void 0===n?void 0:n.find((function(e){return Io(e)}))),u=(t=n,Math.max.apply(Math,Object(Yt.a)(t.map((function(e){return e.applicationNumber})))));return Object(F.jsx)(Wt.a,{disabled:c.applicationNumber!==u,onClick:function(){o({title:"Confirm Close Application",titleProps:{color:"red",fontWeight:"bold"},description:"Are You Sure You Want To Close ".concat(c.applicationReference," ?"),confirmationText:"Update Application",cancellationButtonProps:{color:"secondary"},confirmationButtonProps:{autoFocus:!0,color:"update"},allowClose:!1}).then((function(){return l()}))},color:"action",fullWidth:!0,children:"increment application"})},Vo=function(){var e,t,n=!1!==Object(Gt.a)(w).selectedApplication,r=null===(e=Object(Gt.a)(w).selectedApplication[0])||void 0===e?void 0:e.applicationCurrent,o=null===(t=Object(Gt.a)(w).selectedApplication[0])||void 0===t?void 0:t.applicationSubmitted,i=Object(Gt.a)(w).selectedApplication,l=Object(Xt.a)(Co,{onCompleted:function(){return w(Object(a.a)(Object(a.a)({},w()),{},{selectedApplication:!1}))}}),c=Object(dt.a)(l,1)[0];return Object(F.jsx)(Wt.a,{disabled:!n||r||o,onClick:function(){c({variables:{appToOpen:Number(i[0].id)}}).then(console.log)},color:"action",fullWidth:!0,children:"open selected application"})},Do=function(e){var t=e.applicationHeader,n=e.areas,a=e.orderheaders,r=e.orderdetails,o={header:t,areas:n,projects:a,locations:e.sitelocations,items:r,worksheets:e.worksheets};console.log(Object.entries(o)),function(e){console.log(e),e.forEach((function(e){return console.log(e[0],e[1])}));var t=fo.b.book_new();e.forEach((function(e){return fo.b.book_append_sheet(t,fo.b.json_to_sheet(e[1]),e[0].toString())})),Object(fo.c)(t,"".concat(e[0][1][0].application_reference,".xlsx"))}(Object.entries(o))},wo=function(e){var t,n,r,o,i=e.rowData,l=Object(Gt.a)(w).selectedApplication,c=!1!==Object(Gt.a)(w).selectedApplication,u=null===(t=Object(Gt.a)(w).selectedApplication[0])||void 0===t?void 0:t.applicationSubmitted,d=(null===(n=i.filter((function(e){var t;return e.applicationNumber===(null===(t=l[0])||void 0===t?void 0:t.applicationNumber)-1}))[0])||void 0===n?void 0:n.applicationSubmitted)|1===(null===(r=l[0])||void 0===r?void 0:r.applicationNumber),s=null===(o=Object(Gt.a)(w).selectedApplication[0])||void 0===o?void 0:o.applicationOpen,m=Object(b.b)(),j=Object(Xt.a)(yo,{fetchPolicy:"network-only",onCompleted:function(){w(Object(a.a)(Object(a.a)({},w()),{},{selectedApplication:!1}))}}),p=Object(dt.a)(j,2),f=p[0],h=p[1].error,O=function(e){m({title:h?"Submission Failed":"Application Submitted!",titleProps:{color:"red",fontWeight:"bold"},cancellationButtonProps:{color:"secondary"},confirmationButtonProps:{autoFocus:!0,color:"update"},confirmationText:"VIEW SUBMISSION DATA",allowClose:!1}).then((function(){console.log(e),Do(e.submitApplication.query.submittedApplicationByApplicationId)})).catch(console.log)};return Object(F.jsx)(Wt.a,{disabled:!c||u||s||!d,onClick:function(){m({title:"Confirm Submit Application",titleProps:{color:"red",fontWeight:"bold"},description:"Are You Sure You Want To Submit ".concat(l[0].applicationReference," ?"),confirmationText:"Submit Application",cancellationButtonProps:{color:"secondary"},confirmationButtonProps:{autoFocus:!0,color:"update"},allowClose:!1}).then((function(){return f({variables:{appNumber:l[0].id}})})).then((function(e){O(e.data)})).catch((function(e){return console.log(e)}))},color:"action",fullWidth:!0,children:"submit application"})},To=function(e){var t=e.rowData,n=e.setRowData;return Object(F.jsxs)(Pt.a,{container:!0,spacing:2,mb:2,mt:1,columns:5,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(No,{rowData:t,setRowData:n})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Vo,{rowData:t})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(wo,{rowData:t})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{disabled:!0,fullWidth:!0,color:"action",children:"remove submission flag"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{startIcon:Object(F.jsx)(go.a,{}),disabled:!0,fullWidth:!0,color:"action",children:"download submission data"})})]})},So=n(135),Ao=n.n(So),ko=function(e){var t=e.rowData,n=Object(v.d)(),r=p.a.useRef(),o=p.a.useMemo((function(){return[{field:"applicationNumber",sort:"desc",checkboxSelection:function(){return"/admin/applications"===n.pathname}},{field:"applicationReference"},{field:"applicationDate",valueFormatter:function(e){return Se(e.value)}},{field:"prevCumulativeApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"thisApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter",cellStyle:{fontWeight:"bold"}},{field:"cumulativeApplicationValue",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"areaCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"orderCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"locationCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"itemCount",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{field:"applicationSubmitted",headerClass:"text-center",cellRenderer:function(e){return!0===e.data.applicationSubmitted?Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(Ao.a,{color:"submit"})}):Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(gt.a,{color:"error"})})}},{field:"applicationOpen",headerClass:"text-center",cellRenderer:function(e){return!0===e.data.applicationOpen?Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(Ao.a,{color:"submit"})}):Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(gt.a,{color:"error"})})}},{field:"applicationCurrent",headerClass:"text-center",cellRenderer:function(e){return!0===e.data.applicationCurrent?Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(Ao.a,{color:"submit"})}):Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(gt.a,{color:"error"})})}}]}),[]),i=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]),l=p.a.useMemo((function(){return{"application-current":function(e){return e.data.applicationCurrent}}}),[]),c=p.a.useCallback((function(){var e=r.current.api.getSelectedRows();0===e.length?w(Object(a.a)(Object(a.a)({},w()),{},{selectedApplication:!1})):w(Object(a.a)(Object(a.a)({},w()),{},{selectedApplication:e}))}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",ref:r,rowSelection:"single",animateRows:"true",columnDefs:o,defaultColDef:i,rowData:t,domLayout:"autoHeight",pagination:!1,paginationPageSize:10,suppressRowClickSelection:!0,rowClassRules:l,onSelectionChanged:c})},Ro=function(){var e=p.a.useState([]),t=Object(dt.a)(e,2),n=t[0],a=t[1],r=Object(ae.b)(Va,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onCompleted:function(e){return a(e.applicationSummaryWithCumulativeValues.nodes)}}),o=r.loading,i=r.refetch;return o?null:Object(F.jsxs)("div",{children:[Object(F.jsx)(To,{rowData:n,setRowData:a,refetch:i}),Object(F.jsx)(ko,{rowData:n})]})},Po=function(e){var t=e.rowData,n=p.a.useMemo((function(){return[{field:"periodNumber"},{field:"weekCommencingDate",valueFormatter:function(e){return new Date(e.value).toLocaleDateString("en-GB")}},{field:"weekEndingDate",valueFormatter:function(e){return new Date(e.value).toLocaleDateString("en-GB")}},{field:"year"},{field:"week"},{field:"worksValueCurrent",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter",headerName:"Works Value"},{field:"current",headerClass:"text-center",cellRenderer:function(e){return!0===e.data.current?Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(Ao.a,{color:"submit"})}):Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(gt.a,{color:"error"})})}},{field:"closed",headerClass:"text-center",cellRenderer:function(e){return!0===e.data.closed?Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(Ao.a,{color:"submit"})}):Object(F.jsx)("div",{style:{textAlign:"center",marginTop:5},children:Object(F.jsx)(gt.a,{color:"error"})})}}]})),a=p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]);return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:n,defaultColDef:a,rowData:t,domLayout:"autoHeight",pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0})},Wo=function(){return Object(F.jsxs)(Pt.a,{container:!0,columns:4,mb:2,children:[Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{children:"Button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{children:"Button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{children:"Button"})}),Object(F.jsx)(Pt.a,{item:!0,xs:1,children:Object(F.jsx)(Wt.a,{children:"Button"})})]})},Fo=function(){var e=p.a.useState([]),t=Object(dt.a)(e,2),n=t[0],a=t[1];return Object(ae.b)(ve,{onCompleted:function(e){return a(e.periodWithValues.nodes)}}).loading?null:(console.log(n),Object(F.jsxs)("div",{children:[Object(F.jsx)(Wo,{}),Object(F.jsx)(Po,{rowData:n})]}))},qo=function(){return Object(v.h)([{path:"projects",element:Object(F.jsx)(ro,{}),children:[{path:"import",element:Object(F.jsx)(Oo,{})}]},{path:"documents",element:Object(F.jsx)(po,{})},{path:"applications",element:Object(F.jsx)(Ro,{})},{path:"periods",element:Object(F.jsx)(Fo,{})}])},Lo=function(e){var t=e.rowData,n=p.a.useState([{field:"orderNumber",headerName:"Project No"},{field:"projectTitle",headerName:"Project Title",flex:2},{field:"area"},{field:"workType",flex:1.5},{headerName:"Order Val",valueGetter:function(e){return Number(e.data.orderValueTotal)},valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Done Val",valueGetter:function(e){return Number(e.data.orderValueTotalComplete)},valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Applied Val",field:"orderValueTotalApplied",valueFormatter:Ve,type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Value Available",valueFormatter:Ve,valueGetter:function(e){return e.data.orderValueTotalComplete-e.data.orderValueTotalApplied},type:"numericColumn",filter:"agNumberColumnFilter",cellStyle:{fontWeight:"bold"}},{headerName:"Locations",field:"locationCount",type:"numericColumn",filter:"agNumberColumnFilter"},{headerName:"Items",field:"itemCount",type:"numericColumn",filter:"agNumberColumnFilter"}]),a=Object(dt.a)(n,2),r=a[0],o=(a[1],p.a.useMemo((function(){return{filter:!0,sortable:!0,resizable:!0,flex:1}}),[]));return Object(F.jsx)(mt.AgGridReact,{className:"ag-theme-alpine",animateRows:"true",columnDefs:r,defaultColDef:o,rowData:t,rowSelection:"single",domLayout:"autoHeight",enableCellChangeFlash:!0,pagination:!0,paginationPageSize:20,suppressRowClickSelection:!0})},Eo=function(){var e=p.a.useState([]),t=Object(dt.a)(e,2),n=t[0],a=t[1],r=p.a.useState([]),o=Object(dt.a)(r,2),i=o[0],l=o[1],c=Object(ae.b)(Va,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,onCompleted:function(e){return a(e.applicationSummaryWithCumulativeValues.nodes)}}).loading,u=Object(ae.b)(Da,{onCompleted:function(e){return l(e.wpmGraphqlGetOrdersAvailableForApplication.nodes)}}).loading;return c||u?null:Object(F.jsxs)(_t.a,{children:[Object(F.jsxs)(_t.a,{children:[Object(F.jsx)("div",{className:"grid-title",children:"APPLICATION LISTING"}),Object(F.jsx)(ko,{rowData:n})]}),Object(F.jsxs)(_t.a,{mt:2,children:[Object(F.jsx)("div",{className:"grid-title",children:"PROJECTS AVAILABLE FOR APPLICATION"}),Object(F.jsx)(Lo,{rowData:i})]})]})};var Bo=function(){return Object(v.h)([{path:"/",element:Object(F.jsx)(ne.a,{}),children:[{index:!0,element:Object(F.jsx)(te,{})},{element:Object(F.jsx)(Pr,{}),path:"projects",exact:!0},{element:Object(F.jsx)(qo,{}),path:"admin/*"},{element:Object(F.jsx)(Ar,{}),path:"projects/processing/:id/*"},{element:Object(F.jsx)(zr,{}),path:"dashboard"},{element:Object(F.jsx)(Wr,{}),path:"testing"},{element:Object(F.jsx)(Eo,{}),path:"applications"}]}])},Mo=p.a.lazy((function(){return n.e(3).then(n.bind(null,812))})),Go=(n(686),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,811)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))}),$o=n(399),zo=Object($o.a)({palette:{type:"light",primary:{main:"#22415e"},secondary:{main:"#737373"},dataTable:{main:"#d5d5d5"},action:{main:"#45152d",contrastText:"#fff"},create:{main:"#052e2e",light:"#015b5b",contrastText:"#fff"},update:{main:"#040E7C",light:"#404ABF",contrastText:"#fff"},delete:{main:"#730d1c",light:"#b8142d",dark:"#66000d",contrastText:"#fff"},navigation:{main:"#1B344B",light:"#366896",dark:"#0b3458",contrastText:"#fff"},cancel:{main:"#404040",contrastText:"#fff"},info:{main:"#404040"},contrasting:{main:"#fff"},submit:{main:"#006666",contrastText:"#fff"},print:{main:"#4b0055"},background:{default:"#f5f5f5"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:10,fontWeight:600,textTransform:"uppercase",textDecorationLine:"none",textAlign:"center",padding:2,border:"5px solid","&:disabled":{cursor:"not-allowed",backgroundColor:"#737373",color:"#b1b1b1"}}},defaultProps:{variant:"contained",fullWidth:!0}},MuiTextField:{defaultProps:{variant:"outlined",size:"small"}}},props:{MuiList:{dense:!0},MuiMenuItem:{dense:!0},MuiTable:{size:"small"},MuiAppBar:{color:"inherit"}},typography:{fontFamily:"Arial"}}),Ho=x.a.createRoot(document.getElementById("root")),Qo={timeout:3e3,position:f.b.MIDDLE};Object(m.b)({cache:N,storage:new m.a(window.localStorage)});var Ko=new r.a({link:o.a.from([Object(l.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(a))})),n&&console.log("[Network error]: ".concat(n))})),u()({uri:"".concat("http://192.168.0.23:9433","/graphql")})]),cache:N});Ho.render(Object(F.jsx)(p.a.StrictMode,{children:Object(F.jsx)(C.a,{children:Object(F.jsx)(i.a,{client:Ko,children:Object(F.jsx)(d.a,{theme:zo,children:Object(F.jsx)(s.DevSupport,{ComponentPreviews:Mo,useInitialHook:function(){var e=Object(j.useState)({loading:!1,error:!1});return Object(dt.a)(e,1)[0]},children:Object(F.jsx)(b.a,{defaultOptions:{confirmationButtonProps:{autoFocus:!0}},children:Object(F.jsx)(g.a,{children:Object(F.jsx)(f.a,Object(a.a)(Object(a.a)({template:h.a},Qo),{},{children:Object(F.jsx)(Bo,{})}))})})})})})})})),Go()}},[[695,1,2]]]);
//# sourceMappingURL=main.a40738d4.chunk.js.map